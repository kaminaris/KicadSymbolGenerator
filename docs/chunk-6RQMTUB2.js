import{A as Fn,B as I,C as N,D as Le,E as In,F as Mt,G as Nn,H as On,I as kn,J as U,K as ze,L as lt,M as ht,N as ct,O as me,Q as Tn,R as Pn,S as Ue,T as jn,U as Gn,Y as Rn,a as T,b as q,c as bn,d as Cn,e as xn,f as Vn,g as de,h as fe,i as Mn,j as Ct,k as at,l as Pe,m as je,n as Ge,o as xt,p as ut,q as pe,r as Dn,s as Re,t as Y,u as B,v as Be,w as An,x as Vt,y as En,z as Sn}from"./chunk-WS6WM67P.js";var Yn=(()=>{let t=class t{constructor(i,r){this._renderer=i,this._elementRef=r,this.onChange=s=>{},this.onTouched=()=>{}}setProperty(i,r){this._renderer.setProperty(this._elementRef.nativeElement,i,r)}registerOnTouched(i){this.onTouched=i}registerOnChange(i){this.onChange=i}setDisabledState(i){this.setProperty("disabled",i)}};t.\u0275fac=function(r){return new(r||t)(B(Be),B(Ge))},t.\u0275dir=at({type:t});let e=t;return e})(),Xn=(()=>{let t=class t extends Yn{};t.\u0275fac=(()=>{let i;return function(s){return(i||(i=Re(t)))(s||t)}})(),t.\u0275dir=at({type:t,features:[Vt]});let e=t;return e})(),Ye=new ut("");var $i={provide:Ye,useExisting:pe(()=>ve),multi:!0};function Hi(){let e=Ue()?Ue().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}var Wi=new ut(""),ve=(()=>{let t=class t extends Yn{constructor(i,r,s){super(i,r),this._compositionMode=s,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!Hi())}writeValue(i){let r=i??"";this.setProperty("value",r)}_handleInput(i){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(i)}_compositionStart(){this._composing=!0}_compositionEnd(i){this._composing=!1,this._compositionMode&&this.onChange(i)}};t.\u0275fac=function(r){return new(r||t)(B(Be),B(Ge),B(Wi,8))},t.\u0275dir=at({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,s){r&1&&Mt("input",function(a){return s._handleInput(a.target.value)})("blur",function(){return s.onTouched()})("compositionstart",function(){return s._compositionStart()})("compositionend",function(a){return s._compositionEnd(a.target.value)})},features:[me([$i]),Vt]});let e=t;return e})();var qi=new ut(""),Yi=new ut("");function Kn(e){return e!=null}function Qn(e){return Tn(e)?Cn(e):e}function Zn(e){let t={};return e.forEach(n=>{t=n!=null?T(T({},t),n):t}),Object.keys(t).length===0?null:t}function Jn(e,t){return t.map(n=>n(e))}function Xi(e){return!e.validate}function ti(e){return e.map(t=>Xi(t)?t:n=>t.validate(n))}function Ki(e){if(!e)return null;let t=e.filter(Kn);return t.length==0?null:function(n){return Zn(Jn(n,t))}}function ei(e){return e!=null?Ki(ti(e)):null}function Qi(e){if(!e)return null;let t=e.filter(Kn);return t.length==0?null:function(n){let i=Jn(n,t).map(Qn);return Vn(i).pipe(xn(Zn))}}function ni(e){return e!=null?Qi(ti(e)):null}function Bn(e,t){return e===null?[t]:Array.isArray(e)?[...e,t]:[e,t]}function Zi(e){return e._rawValidators}function Ji(e){return e._rawAsyncValidators}function $e(e){return e?Array.isArray(e)?e:[e]:[]}function ye(e,t){return Array.isArray(e)?e.includes(t):e===t}function Ln(e,t){let n=$e(t);return $e(e).forEach(r=>{ye(n,r)||n.push(r)}),n}function zn(e,t){return $e(t).filter(n=>!ye(e,n))}var _e=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=ei(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=ni(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t=void 0){this.control&&this.control.reset(t)}hasError(t,n){return this.control?this.control.hasError(t,n):!1}getError(t,n){return this.control?this.control.getError(t,n):null}},He=class extends _e{get formDirective(){return null}get path(){return null}},$t=class extends _e{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},We=class{constructor(t){this._cd=t}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}},tr={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},Ko=q(T({},tr),{"[class.ng-submitted]":"isSubmitted"}),ii=(()=>{let t=class t extends We{constructor(i){super(i)}};t.\u0275fac=function(r){return new(r||t)(B($t,2))},t.\u0275dir=at({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,s){r&2&&Fn("ng-untouched",s.isUntouched)("ng-touched",s.isTouched)("ng-pristine",s.isPristine)("ng-dirty",s.isDirty)("ng-valid",s.isValid)("ng-invalid",s.isInvalid)("ng-pending",s.isPending)},features:[Vt]});let e=t;return e})();var zt="VALID",ge="INVALID",Dt="PENDING",Ut="DISABLED";function er(e){return(we(e)?e.validators:e)||null}function nr(e){return Array.isArray(e)?ei(e):e||null}function ir(e,t){return(we(t)?t.asyncValidators:e)||null}function rr(e){return Array.isArray(e)?ni(e):e||null}function we(e){return e!=null&&!Array.isArray(e)&&typeof e=="object"}var qe=class{constructor(t,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(t),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===zt}get invalid(){return this.status===ge}get pending(){return this.status==Dt}get disabled(){return this.status===Ut}get enabled(){return this.status!==Ut}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(Ln(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(Ln(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(zn(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(zn(t,this._rawAsyncValidators))}hasValidator(t){return ye(this._rawValidators,t)}hasAsyncValidator(t){return ye(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=Dt,t.emitEvent!==!1&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){let n=this._parentMarkedDirty(t.onlySelf);this.status=Ut,this.errors=null,this._forEachChild(i=>{i.disable(q(T({},t),{onlySelf:!0}))}),this._updateValue(),t.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(q(T({},t),{skipPristineCheck:n})),this._onDisabledChange.forEach(i=>i(!0))}enable(t={}){let n=this._parentMarkedDirty(t.onlySelf);this.status=zt,this._forEachChild(i=>{i.enable(q(T({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(q(T({},t),{skipPristineCheck:n})),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===zt||this.status===Dt)&&this._runAsyncValidator(t.emitEvent)),t.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Ut:zt}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=Dt,this._hasOwnPendingAsyncValidator=!0;let n=Qn(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,n={}){this.errors=t,this._updateControlsErrors(n.emitEvent!==!1)}get(t){let n=t;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((i,r)=>i&&i._find(r),this)}getError(t,n){let i=n?this.get(n):this;return i&&i.errors?i.errors[t]:null}hasError(t,n){return!!this.getError(t,n)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new de,this.statusChanges=new de}_calculateStatus(){return this._allControlsDisabled()?Ut:this.errors?ge:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Dt)?Dt:this._anyControlsHaveStatus(ge)?ge:zt}_anyControlsHaveStatus(t){return this._anyControls(n=>n.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){we(t)&&t.updateOn!=null&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){let n=this._parent&&this._parent.dirty;return!t&&!!n&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=nr(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=rr(this._rawAsyncValidators)}};var Xe=new ut("CallSetDisabledState",{providedIn:"root",factory:()=>be}),be="always";function sr(e,t){return[...t.path,e]}function or(e,t,n=be){ur(e,t),t.valueAccessor.writeValue(e.value),(e.disabled||n==="always")&&t.valueAccessor.setDisabledState?.(e.disabled),lr(e,t),cr(e,t),hr(e,t),ar(e,t)}function Un(e,t){e.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(t)})}function ar(e,t){if(t.valueAccessor.setDisabledState){let n=i=>{t.valueAccessor.setDisabledState(i)};e.registerOnDisabledChange(n),t._registerOnDestroy(()=>{e._unregisterOnDisabledChange(n)})}}function ur(e,t){let n=Zi(e);t.validator!==null?e.setValidators(Bn(n,t.validator)):typeof n=="function"&&e.setValidators([n]);let i=Ji(e);t.asyncValidator!==null?e.setAsyncValidators(Bn(i,t.asyncValidator)):typeof i=="function"&&e.setAsyncValidators([i]);let r=()=>e.updateValueAndValidity();Un(t._rawValidators,r),Un(t._rawAsyncValidators,r)}function lr(e,t){t.valueAccessor.registerOnChange(n=>{e._pendingValue=n,e._pendingChange=!0,e._pendingDirty=!0,e.updateOn==="change"&&ri(e,t)})}function hr(e,t){t.valueAccessor.registerOnTouched(()=>{e._pendingTouched=!0,e.updateOn==="blur"&&e._pendingChange&&ri(e,t),e.updateOn!=="submit"&&e.markAsTouched()})}function ri(e,t){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function cr(e,t){let n=(i,r)=>{t.valueAccessor.writeValue(i),r&&t.viewToModelUpdate(i)};e.registerOnChange(n),t._registerOnDestroy(()=>{e._unregisterOnChange(n)})}function dr(e,t){if(!e.hasOwnProperty("model"))return!1;let n=e.model;return n.isFirstChange()?!0:!Object.is(t,n.currentValue)}function fr(e){return Object.getPrototypeOf(e.constructor)===Xn}function pr(e,t){if(!t)return null;Array.isArray(t);let n,i,r;return t.forEach(s=>{s.constructor===ve?n=s:fr(s)?i=s:r=s}),r||i||n||null}function $n(e,t){let n=e.indexOf(t);n>-1&&e.splice(n,1)}function Hn(e){return typeof e=="object"&&e!==null&&Object.keys(e).length===2&&"value"in e&&"disabled"in e}var mr=class extends qe{constructor(t=null,n,i){super(er(n),ir(i,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),we(n)&&(n.nonNullable||n.initialValueIsDefault)&&(Hn(t)?this.defaultValue=t.value:this.defaultValue=t)}setValue(t,n={}){this.value=this._pendingValue=t,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(i=>i(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(t,n={}){this.setValue(t,n)}reset(t=this.defaultValue,n={}){this._applyFormState(t),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){$n(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){$n(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(t){Hn(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}};var gr={provide:$t,useExisting:pe(()=>Ke)},Wn=Promise.resolve(),Ke=(()=>{let t=class t extends $t{constructor(i,r,s,o,a,u){super(),this._changeDetectorRef=a,this.callSetDisabledState=u,this.control=new mr,this._registered=!1,this.name="",this.update=new de,this._parent=i,this._setValidators(r),this._setAsyncValidators(s),this.valueAccessor=pr(this,o)}ngOnChanges(i){if(this._checkForErrors(),!this._registered||"name"in i){if(this._registered&&(this._checkName(),this.formDirective)){let r=i.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in i&&this._updateDisabled(i),dr(i,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(i){this.viewModel=i,this.update.emit(i)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){or(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(i){Wn.then(()=>{this.control.setValue(i,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(i){let r=i.isDisabled.currentValue,s=r!==0&&Pn(r);Wn.then(()=>{s&&!this.control.disabled?this.control.disable():!s&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(i){return this._parent?sr(i,this._parent):[i]}};t.\u0275fac=function(r){return new(r||t)(B(He,9),B(qi,10),B(Yi,10),B(Ye,10),B(An,8),B(Xe,8))},t.\u0275dir=at({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[fe.None,"disabled","isDisabled"],model:[fe.None,"ngModel","model"],options:[fe.None,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[me([gr]),Vt,Dn]});let e=t;return e})();var yr={provide:Ye,useExisting:pe(()=>Qe),multi:!0},Qe=(()=>{let t=class t extends Xn{writeValue(i){let r=i??"";this.setProperty("value",r)}registerOnChange(i){this.onChange=r=>{i(r==""?null:parseFloat(r))}}};t.\u0275fac=(()=>{let i;return function(s){return(i||(i=Re(t)))(s||t)}})(),t.\u0275dir=at({type:t,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(r,s){r&1&&Mt("input",function(a){return s.onChange(a.target.value)})("blur",function(){return s.onTouched()})},features:[me([yr]),Vt]});let e=t;return e})();var _r=new ut("");var si=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=Ct({type:t}),t.\u0275inj=xt({});let e=t;return e})();var oi=(()=>{let t=class t{static withConfig(i){return{ngModule:t,providers:[{provide:Xe,useValue:i.callSetDisabledState??be}]}}};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=Ct({type:t}),t.\u0275inj=xt({imports:[si]});let e=t;return e})(),ai=(()=>{let t=class t{static withConfig(i){return{ngModule:t,providers:[{provide:_r,useValue:i.warnOnNgModelWithFormControl??"always"},{provide:Xe,useValue:i.callSetDisabledState??be}]}}};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=Ct({type:t}),t.\u0275inj=xt({imports:[si]});let e=t;return e})();var nn={},pi=[];function d(e,t){if(Array.isArray(e)){for(let n of e)d(n,t);return}if(typeof e=="object"){for(let n in e)d(n,e[n]);return}mi(Object.getOwnPropertyNames(t)),nn[e]=Object.assign(nn[e]||{},t)}function G(e){return nn[e]||{}}function wr(){return[...new Set(pi)]}function mi(e){pi.push(...e)}function dn(e,t){let n,i=e.length,r=[];for(n=0;n<i;n++)r.push(t(e[n]));return r}function br(e,t){let n,i=e.length,r=[];for(n=0;n<i;n++)t(e[n])&&r.push(e[n]);return r}function Ze(e){return e%360*Math.PI/180}function Ce(e){return e.toLowerCase().replace(/-(.)/g,function(t,n){return n.toUpperCase()})}function Cr(e){return e.replace(/([A-Z])/g,function(t,n){return"-"+n.toLowerCase()})}function gi(e){return e.charAt(0).toUpperCase()+e.slice(1)}function Rt(e,t,n,i){return(t==null||n==null)&&(i=i||e.bbox(),t==null?t=i.width/i.height*n:n==null&&(n=i.height/i.width*t)),{width:t,height:n}}function rn(e,t){let n=e.origin,i=e.ox!=null?e.ox:e.originX!=null?e.originX:"center",r=e.oy!=null?e.oy:e.originY!=null?e.originY:"center";n!=null&&([i,r]=Array.isArray(n)?n:typeof n=="object"?[n.x,n.y]:[n,n]);let s=typeof i=="string",o=typeof r=="string";if(s||o){let{height:a,width:u,x:l,y:h}=t.bbox();s&&(i=i.includes("left")?l:i.includes("right")?l+u:l+u/2),o&&(r=r.includes("top")?h:r.includes("bottom")?h+a:h+a/2)}return[i,r]}var fn="http://www.w3.org/2000/svg",xr="http://www.w3.org/1999/xhtml",xe="http://www.w3.org/2000/xmlns/",ue="http://www.w3.org/1999/xlink",Vr="http://svgjs.dev/svgjs";var _={window:typeof window>"u"?null:window,document:typeof document>"u"?null:document};var Yt=class{},ft={},pn="___SYMBOL___ROOT___";function Xt(e,t=fn){return _.document.createElementNS(t,e)}function O(e,t=!1){if(e instanceof Yt)return e;if(typeof e=="object")return Je(e);if(e==null)return new ft[pn];if(typeof e=="string"&&e.charAt(0)!=="<")return Je(_.document.querySelector(e));let n=t?_.document.createElement("div"):Xt("svg");return n.innerHTML=e,e=Je(n.firstChild),n.removeChild(n.firstChild),e}function A(e,t){return t&&t.ownerDocument&&t instanceof t.ownerDocument.defaultView.Node?t:Xt(e)}function $(e){if(!e)return null;if(e.instance instanceof Yt)return e.instance;if(e.nodeName==="#document-fragment")return new ft.Fragment(e);let t=gi(e.nodeName||"Dom");return t==="LinearGradient"||t==="RadialGradient"?t="Gradient":ft[t]||(t="Dom"),new ft[t](e)}var Je=$;function g(e,t=e.name,n=!1){return ft[t]=e,n&&(ft[pn]=e),mi(Object.getOwnPropertyNames(e.prototype)),e}function Mr(e){return ft[e]}var Dr=1e3;function yi(e){return"Svgjs"+gi(e)+Dr++}function _i(e){for(let t=e.children.length-1;t>=0;t--)_i(e.children[t]);return e.id&&(e.id=yi(e.nodeName)),e}function f(e,t){let n,i;for(e=Array.isArray(e)?e:[e],i=e.length-1;i>=0;i--)for(n in t)e[i].prototype[n]=t[n]}function D(e){return function(...t){let n=t[t.length-1];return n&&n.constructor===Object&&!(n instanceof Array)?e.apply(this,t.slice(0,-1)).attr(n):e.apply(this,t)}}function Ar(){return this.parent().children()}function Er(){return this.parent().index(this)}function Sr(){return this.siblings()[this.position()+1]}function Fr(){return this.siblings()[this.position()-1]}function Ir(){let e=this.position();return this.parent().add(this.remove(),e+1),this}function Nr(){let e=this.position();return this.parent().add(this.remove(),e?e-1:0),this}function Or(){return this.parent().add(this.remove()),this}function kr(){return this.parent().add(this.remove(),0),this}function Tr(e){e=O(e),e.remove();let t=this.position();return this.parent().add(e,t),this}function Pr(e){e=O(e),e.remove();let t=this.position();return this.parent().add(e,t+1),this}function jr(e){return e=O(e),e.before(this),this}function Gr(e){return e=O(e),e.after(this),this}d("Dom",{siblings:Ar,position:Er,next:Sr,prev:Fr,forward:Ir,backward:Nr,front:Or,back:kr,before:Tr,after:Pr,insertBefore:jr,insertAfter:Gr});var vi=/^([+-]?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?)([a-z%]*)$/i,Rr=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,Br=/rgb\((\d+),(\d+),(\d+)\)/,Lr=/(#[a-z_][a-z0-9\-_]*)/i,zr=/\)\s*,?\s*/,Ur=/\s/g,ui=/^#[a-f0-9]{3}$|^#[a-f0-9]{6}$/i,li=/^rgb\(/,hi=/^(\s+)?$/,ci=/^[+-]?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,$r=/\.(jpg|jpeg|png|gif|svg)(\?[^=]+.*)?/i,J=/[\s,]+/,mn=/[MLHVCSQTAZ]/i;function Hr(){let e=this.attr("class");return e==null?[]:e.trim().split(J)}function Wr(e){return this.classes().indexOf(e)!==-1}function qr(e){if(!this.hasClass(e)){let t=this.classes();t.push(e),this.attr("class",t.join(" "))}return this}function Yr(e){return this.hasClass(e)&&this.attr("class",this.classes().filter(function(t){return t!==e}).join(" ")),this}function Xr(e){return this.hasClass(e)?this.removeClass(e):this.addClass(e)}d("Dom",{classes:Hr,hasClass:Wr,addClass:qr,removeClass:Yr,toggleClass:Xr});function Kr(e,t){let n={};if(arguments.length===0)return this.node.style.cssText.split(/\s*;\s*/).filter(function(i){return!!i.length}).forEach(function(i){let r=i.split(/\s*:\s*/);n[r[0]]=r[1]}),n;if(arguments.length<2){if(Array.isArray(e)){for(let i of e){let r=Ce(i);n[i]=this.node.style[r]}return n}if(typeof e=="string")return this.node.style[Ce(e)];if(typeof e=="object")for(let i in e)this.node.style[Ce(i)]=e[i]==null||hi.test(e[i])?"":e[i]}return arguments.length===2&&(this.node.style[Ce(e)]=t==null||hi.test(t)?"":t),this}function Qr(){return this.css("display","")}function Zr(){return this.css("display","none")}function Jr(){return this.css("display")!=="none"}d("Dom",{css:Kr,show:Qr,hide:Zr,visible:Jr});function ts(e,t,n){if(e==null)return this.data(dn(br(this.node.attributes,i=>i.nodeName.indexOf("data-")===0),i=>i.nodeName.slice(5)));if(e instanceof Array){let i={};for(let r of e)i[r]=this.data(r);return i}else if(typeof e=="object")for(t in e)this.data(t,e[t]);else if(arguments.length<2)try{return JSON.parse(this.attr("data-"+e))}catch{return this.attr("data-"+e)}else this.attr("data-"+e,t===null?null:n===!0||typeof t=="string"||typeof t=="number"?t:JSON.stringify(t));return this}d("Dom",{data:ts});function es(e,t){if(typeof arguments[0]=="object")for(let n in e)this.remember(n,e[n]);else{if(arguments.length===1)return this.memory()[e];this.memory()[e]=t}return this}function ns(){if(arguments.length===0)this._memory={};else for(let e=arguments.length-1;e>=0;e--)delete this.memory()[arguments[e]];return this}function is(){return this._memory=this._memory||{}}d("Dom",{remember:es,forget:ns,memory:is});function rs(e){return e.length===4?["#",e.substring(1,2),e.substring(1,2),e.substring(2,3),e.substring(2,3),e.substring(3,4),e.substring(3,4)].join(""):e}function ss(e){let t=Math.round(e),i=Math.max(0,Math.min(255,t)).toString(16);return i.length===1?"0"+i:i}function At(e,t){for(let n=t.length;n--;)if(e[t[n]]==null)return!1;return!0}function os(e,t){let n=At(e,"rgb")?{_a:e.r,_b:e.g,_c:e.b,_d:0,space:"rgb"}:At(e,"xyz")?{_a:e.x,_b:e.y,_c:e.z,_d:0,space:"xyz"}:At(e,"hsl")?{_a:e.h,_b:e.s,_c:e.l,_d:0,space:"hsl"}:At(e,"lab")?{_a:e.l,_b:e.a,_c:e.b,_d:0,space:"lab"}:At(e,"lch")?{_a:e.l,_b:e.c,_c:e.h,_d:0,space:"lch"}:At(e,"cmyk")?{_a:e.c,_b:e.m,_c:e.y,_d:e.k,space:"cmyk"}:{_a:0,_b:0,_c:0,space:"rgb"};return n.space=t||n.space,n}function as(e){return e==="lab"||e==="xyz"||e==="lch"}function tn(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}var H=class e{constructor(...t){this.init(...t)}static isColor(t){return t&&(t instanceof e||this.isRgb(t)||this.test(t))}static isRgb(t){return t&&typeof t.r=="number"&&typeof t.g=="number"&&typeof t.b=="number"}static random(t="vibrant",n,i){let{random:r,round:s,sin:o,PI:a}=Math;if(t==="vibrant"){let u=24*r()+57,l=38*r()+45,h=360*r();return new e(u,l,h,"lch")}else if(t==="sine"){n=n??r();let u=s(80*o(2*a*n/.5+.01)+150),l=s(50*o(2*a*n/.5+4.6)+200),h=s(100*o(2*a*n/.5+2.3)+150);return new e(u,l,h)}else if(t==="pastel"){let u=8*r()+86,l=17*r()+9,h=360*r();return new e(u,l,h,"lch")}else if(t==="dark"){let u=10+10*r(),l=50*r()+86,h=360*r();return new e(u,l,h,"lch")}else if(t==="rgb"){let u=255*r(),l=255*r(),h=255*r();return new e(u,l,h)}else if(t==="lab"){let u=100*r(),l=256*r()-128,h=256*r()-128;return new e(u,l,h,"lab")}else if(t==="grey"){let u=255*r();return new e(u,u,u)}else throw new Error("Unsupported random color mode")}static test(t){return typeof t=="string"&&(ui.test(t)||li.test(t))}cmyk(){let{_a:t,_b:n,_c:i}=this.rgb(),[r,s,o]=[t,n,i].map(v=>v/255),a=Math.min(1-r,1-s,1-o);if(a===1)return new e(0,0,0,1,"cmyk");let u=(1-r-a)/(1-a),l=(1-s-a)/(1-a),h=(1-o-a)/(1-a);return new e(u,l,h,a,"cmyk")}hsl(){let{_a:t,_b:n,_c:i}=this.rgb(),[r,s,o]=[t,n,i].map(y=>y/255),a=Math.max(r,s,o),u=Math.min(r,s,o),l=(a+u)/2,h=a===u,c=a-u,v=h?0:l>.5?c/(2-a-u):c/(a+u),w=h?0:a===r?((s-o)/c+(s<o?6:0))/6:a===s?((o-r)/c+2)/6:a===o?((r-s)/c+4)/6:0;return new e(360*w,100*v,100*l,"hsl")}init(t=0,n=0,i=0,r=0,s="rgb"){if(t=t||0,this.space)for(let c in this.space)delete this[this.space[c]];if(typeof t=="number")s=typeof r=="string"?r:s,r=typeof r=="string"?0:r,Object.assign(this,{_a:t,_b:n,_c:i,_d:r,space:s});else if(t instanceof Array)this.space=n||(typeof t[3]=="string"?t[3]:t[4])||"rgb",Object.assign(this,{_a:t[0],_b:t[1],_c:t[2],_d:t[3]||0});else if(t instanceof Object){let c=os(t,n);Object.assign(this,c)}else if(typeof t=="string")if(li.test(t)){let c=t.replace(Ur,""),[v,w,M]=Br.exec(c).slice(1,4).map(y=>parseInt(y));Object.assign(this,{_a:v,_b:w,_c:M,_d:0,space:"rgb"})}else if(ui.test(t)){let c=y=>parseInt(y,16),[,v,w,M]=Rr.exec(rs(t)).map(c);Object.assign(this,{_a:v,_b:w,_c:M,_d:0,space:"rgb"})}else throw Error("Unsupported string format, can't construct Color");let{_a:o,_b:a,_c:u,_d:l}=this,h=this.space==="rgb"?{r:o,g:a,b:u}:this.space==="xyz"?{x:o,y:a,z:u}:this.space==="hsl"?{h:o,s:a,l:u}:this.space==="lab"?{l:o,a,b:u}:this.space==="lch"?{l:o,c:a,h:u}:this.space==="cmyk"?{c:o,m:a,y:u,k:l}:{};Object.assign(this,h)}lab(){let{x:t,y:n,z:i}=this.xyz(),r=116*n-16,s=500*(t-n),o=200*(n-i);return new e(r,s,o,"lab")}lch(){let{l:t,a:n,b:i}=this.lab(),r=Math.sqrt(n**2+i**2),s=180*Math.atan2(i,n)/Math.PI;return s<0&&(s*=-1,s=360-s),new e(t,r,s,"lch")}rgb(){if(this.space==="rgb")return this;if(as(this.space)){let{x:t,y:n,z:i}=this;if(this.space==="lab"||this.space==="lch"){let{l:w,a:M,b:y}=this;if(this.space==="lch"){let{c:ot,h:he}=this,ce=Math.PI/180;M=ot*Math.cos(ce*he),y=ot*Math.sin(ce*he)}let b=(w+16)/116,V=M/500+b,R=b-y/200,x=16/116,F=.008856,z=7.787;t=.95047*(V**3>F?V**3:(V-x)/z),n=1*(b**3>F?b**3:(b-x)/z),i=1.08883*(R**3>F?R**3:(R-x)/z)}let r=t*3.2406+n*-1.5372+i*-.4986,s=t*-.9689+n*1.8758+i*.0415,o=t*.0557+n*-.204+i*1.057,a=Math.pow,u=.0031308,l=r>u?1.055*a(r,1/2.4)-.055:12.92*r,h=s>u?1.055*a(s,1/2.4)-.055:12.92*s,c=o>u?1.055*a(o,1/2.4)-.055:12.92*o;return new e(255*l,255*h,255*c)}else if(this.space==="hsl"){let{h:t,s:n,l:i}=this;if(t/=360,n/=100,i/=100,n===0)return i*=255,new e(i,i,i);let r=i<.5?i*(1+n):i+n-i*n,s=2*i-r,o=255*tn(s,r,t+1/3),a=255*tn(s,r,t),u=255*tn(s,r,t-1/3);return new e(o,a,u)}else if(this.space==="cmyk"){let{c:t,m:n,y:i,k:r}=this,s=255*(1-Math.min(1,t*(1-r)+r)),o=255*(1-Math.min(1,n*(1-r)+r)),a=255*(1-Math.min(1,i*(1-r)+r));return new e(s,o,a)}else return this}toArray(){let{_a:t,_b:n,_c:i,_d:r,space:s}=this;return[t,n,i,r,s]}toHex(){let[t,n,i]=this._clamped().map(ss);return`#${t}${n}${i}`}toRgb(){let[t,n,i]=this._clamped();return`rgb(${t},${n},${i})`}toString(){return this.toHex()}xyz(){let{_a:t,_b:n,_c:i}=this.rgb(),[r,s,o]=[t,n,i].map(V=>V/255),a=r>.04045?Math.pow((r+.055)/1.055,2.4):r/12.92,u=s>.04045?Math.pow((s+.055)/1.055,2.4):s/12.92,l=o>.04045?Math.pow((o+.055)/1.055,2.4):o/12.92,h=(a*.4124+u*.3576+l*.1805)/.95047,c=(a*.2126+u*.7152+l*.0722)/1,v=(a*.0193+u*.1192+l*.9505)/1.08883,w=h>.008856?Math.pow(h,1/3):7.787*h+16/116,M=c>.008856?Math.pow(c,1/3):7.787*c+16/116,y=v>.008856?Math.pow(v,1/3):7.787*v+16/116;return new e(w,M,y,"xyz")}_clamped(){let{_a:t,_b:n,_c:i}=this.rgb(),{max:r,min:s,round:o}=Math,a=u=>r(0,s(o(u),255));return[t,n,i].map(a)}},S=class e{constructor(...t){this.init(...t)}clone(){return new e(this)}init(t,n){let i={x:0,y:0},r=Array.isArray(t)?{x:t[0],y:t[1]}:typeof t=="object"?{x:t.x,y:t.y}:{x:t,y:n};return this.x=r.x==null?i.x:r.x,this.y=r.y==null?i.y:r.y,this}toArray(){return[this.x,this.y]}transform(t){return this.clone().transformO(t)}transformO(t){p.isMatrixLike(t)||(t=new p(t));let{x:n,y:i}=this;return this.x=t.a*n+t.c*i+t.e,this.y=t.b*n+t.d*i+t.f,this}};function us(e,t){return new S(e,t).transformO(this.screenCTM().inverseO())}function Et(e,t,n){return Math.abs(t-e)<(n||1e-6)}var p=class e{constructor(...t){this.init(...t)}static formatTransforms(t){let n=t.flip==="both"||t.flip===!0,i=t.flip&&(n||t.flip==="x")?-1:1,r=t.flip&&(n||t.flip==="y")?-1:1,s=t.skew&&t.skew.length?t.skew[0]:isFinite(t.skew)?t.skew:isFinite(t.skewX)?t.skewX:0,o=t.skew&&t.skew.length?t.skew[1]:isFinite(t.skew)?t.skew:isFinite(t.skewY)?t.skewY:0,a=t.scale&&t.scale.length?t.scale[0]*i:isFinite(t.scale)?t.scale*i:isFinite(t.scaleX)?t.scaleX*i:i,u=t.scale&&t.scale.length?t.scale[1]*r:isFinite(t.scale)?t.scale*r:isFinite(t.scaleY)?t.scaleY*r:r,l=t.shear||0,h=t.rotate||t.theta||0,c=new S(t.origin||t.around||t.ox||t.originX,t.oy||t.originY),v=c.x,w=c.y,M=new S(t.position||t.px||t.positionX||NaN,t.py||t.positionY||NaN),y=M.x,b=M.y,V=new S(t.translate||t.tx||t.translateX,t.ty||t.translateY),R=V.x,x=V.y,F=new S(t.relative||t.rx||t.relativeX,t.ry||t.relativeY),z=F.x,ot=F.y;return{scaleX:a,scaleY:u,skewX:s,skewY:o,shear:l,theta:h,rx:z,ry:ot,tx:R,ty:x,ox:v,oy:w,px:y,py:b}}static fromArray(t){return{a:t[0],b:t[1],c:t[2],d:t[3],e:t[4],f:t[5]}}static isMatrixLike(t){return t.a!=null||t.b!=null||t.c!=null||t.d!=null||t.e!=null||t.f!=null}static matrixMultiply(t,n,i){let r=t.a*n.a+t.c*n.b,s=t.b*n.a+t.d*n.b,o=t.a*n.c+t.c*n.d,a=t.b*n.c+t.d*n.d,u=t.e+t.a*n.e+t.c*n.f,l=t.f+t.b*n.e+t.d*n.f;return i.a=r,i.b=s,i.c=o,i.d=a,i.e=u,i.f=l,i}around(t,n,i){return this.clone().aroundO(t,n,i)}aroundO(t,n,i){let r=t||0,s=n||0;return this.translateO(-r,-s).lmultiplyO(i).translateO(r,s)}clone(){return new e(this)}decompose(t=0,n=0){let i=this.a,r=this.b,s=this.c,o=this.d,a=this.e,u=this.f,l=i*o-r*s,h=l>0?1:-1,c=h*Math.sqrt(i*i+r*r),v=Math.atan2(h*r,h*i),w=180/Math.PI*v,M=Math.cos(v),y=Math.sin(v),b=(i*s+r*o)/l,V=s*c/(b*i-r)||o*c/(b*r+i),R=a-t+t*M*c+n*(b*M*c-y*V),x=u-n+t*y*c+n*(b*y*c+M*V);return{scaleX:c,scaleY:V,shear:b,rotate:w,translateX:R,translateY:x,originX:t,originY:n,a:this.a,b:this.b,c:this.c,d:this.d,e:this.e,f:this.f}}equals(t){if(t===this)return!0;let n=new e(t);return Et(this.a,n.a)&&Et(this.b,n.b)&&Et(this.c,n.c)&&Et(this.d,n.d)&&Et(this.e,n.e)&&Et(this.f,n.f)}flip(t,n){return this.clone().flipO(t,n)}flipO(t,n){return t==="x"?this.scaleO(-1,1,n,0):t==="y"?this.scaleO(1,-1,0,n):this.scaleO(-1,-1,t,n||t)}init(t){let n=e.fromArray([1,0,0,1,0,0]);return t=t instanceof W?t.matrixify():typeof t=="string"?e.fromArray(t.split(J).map(parseFloat)):Array.isArray(t)?e.fromArray(t):typeof t=="object"&&e.isMatrixLike(t)?t:typeof t=="object"?new e().transform(t):arguments.length===6?e.fromArray([].slice.call(arguments)):n,this.a=t.a!=null?t.a:n.a,this.b=t.b!=null?t.b:n.b,this.c=t.c!=null?t.c:n.c,this.d=t.d!=null?t.d:n.d,this.e=t.e!=null?t.e:n.e,this.f=t.f!=null?t.f:n.f,this}inverse(){return this.clone().inverseO()}inverseO(){let t=this.a,n=this.b,i=this.c,r=this.d,s=this.e,o=this.f,a=t*r-n*i;if(!a)throw new Error("Cannot invert "+this);let u=r/a,l=-n/a,h=-i/a,c=t/a,v=-(u*s+h*o),w=-(l*s+c*o);return this.a=u,this.b=l,this.c=h,this.d=c,this.e=v,this.f=w,this}lmultiply(t){return this.clone().lmultiplyO(t)}lmultiplyO(t){let n=this,i=t instanceof e?t:new e(t);return e.matrixMultiply(i,n,this)}multiply(t){return this.clone().multiplyO(t)}multiplyO(t){let n=this,i=t instanceof e?t:new e(t);return e.matrixMultiply(n,i,this)}rotate(t,n,i){return this.clone().rotateO(t,n,i)}rotateO(t,n=0,i=0){t=Ze(t);let r=Math.cos(t),s=Math.sin(t),{a:o,b:a,c:u,d:l,e:h,f:c}=this;return this.a=o*r-a*s,this.b=a*r+o*s,this.c=u*r-l*s,this.d=l*r+u*s,this.e=h*r-c*s+i*s-n*r+n,this.f=c*r+h*s-n*s-i*r+i,this}scale(t,n,i,r){return this.clone().scaleO(...arguments)}scaleO(t,n=t,i=0,r=0){arguments.length===3&&(r=i,i=n,n=t);let{a:s,b:o,c:a,d:u,e:l,f:h}=this;return this.a=s*t,this.b=o*n,this.c=a*t,this.d=u*n,this.e=l*t-i*t+i,this.f=h*n-r*n+r,this}shear(t,n,i){return this.clone().shearO(t,n,i)}shearO(t,n=0,i=0){let{a:r,b:s,c:o,d:a,e:u,f:l}=this;return this.a=r+s*t,this.c=o+a*t,this.e=u+l*t-i*t,this}skew(t,n,i,r){return this.clone().skewO(...arguments)}skewO(t,n=t,i=0,r=0){arguments.length===3&&(r=i,i=n,n=t),t=Ze(t),n=Ze(n);let s=Math.tan(t),o=Math.tan(n),{a,b:u,c:l,d:h,e:c,f:v}=this;return this.a=a+u*s,this.b=u+a*o,this.c=l+h*s,this.d=h+l*o,this.e=c+v*s-r*s,this.f=v+c*o-i*o,this}skewX(t,n,i){return this.skew(t,0,n,i)}skewY(t,n,i){return this.skew(0,t,n,i)}toArray(){return[this.a,this.b,this.c,this.d,this.e,this.f]}toString(){return"matrix("+this.a+","+this.b+","+this.c+","+this.d+","+this.e+","+this.f+")"}transform(t){if(e.isMatrixLike(t))return new e(t).multiplyO(this);let n=e.formatTransforms(t),i=this,{x:r,y:s}=new S(n.ox,n.oy).transform(i),o=new e().translateO(n.rx,n.ry).lmultiplyO(i).translateO(-r,-s).scaleO(n.scaleX,n.scaleY).skewO(n.skewX,n.skewY).shearO(n.shear).rotateO(n.theta).translateO(r,s);if(isFinite(n.px)||isFinite(n.py)){let a=new S(r,s).transform(o),u=isFinite(n.px)?n.px-a.x:0,l=isFinite(n.py)?n.py-a.y:0;o.translateO(u,l)}return o.translateO(n.tx,n.ty),o}translate(t,n){return this.clone().translateO(t,n)}translateO(t,n){return this.e+=t||0,this.f+=n||0,this}valueOf(){return{a:this.a,b:this.b,c:this.c,d:this.d,e:this.e,f:this.f}}};function ls(){return new p(this.node.getCTM())}function hs(){if(typeof this.isRoot=="function"&&!this.isRoot()){let e=this.rect(1,1),t=e.node.getScreenCTM();return e.remove(),new p(t)}return new p(this.node.getScreenCTM())}g(p,"Matrix");function tt(){if(!tt.nodes){let e=O().size(2,0);e.node.style.cssText=["opacity: 0","position: absolute","left: -100%","top: -100%","overflow: hidden"].join(";"),e.attr("focusable","false"),e.attr("aria-hidden","true");let t=e.path().node;tt.nodes={svg:e,path:t}}if(!tt.nodes.svg.node.parentNode){let e=_.document.body||_.document.documentElement;tt.nodes.svg.addTo(e)}return tt.nodes}function wi(e){return!e.width&&!e.height&&!e.x&&!e.y}function cs(e){return e===_.document||(_.document.documentElement.contains||function(t){for(;t.parentNode;)t=t.parentNode;return t===_.document}).call(_.document.documentElement,e)}var P=class e{constructor(...t){this.init(...t)}addOffset(){return this.x+=_.window.pageXOffset,this.y+=_.window.pageYOffset,new e(this)}init(t){let n=[0,0,0,0];return t=typeof t=="string"?t.split(J).map(parseFloat):Array.isArray(t)?t:typeof t=="object"?[t.left!=null?t.left:t.x,t.top!=null?t.top:t.y,t.width,t.height]:arguments.length===4?[].slice.call(arguments):n,this.x=t[0]||0,this.y=t[1]||0,this.width=this.w=t[2]||0,this.height=this.h=t[3]||0,this.x2=this.x+this.w,this.y2=this.y+this.h,this.cx=this.x+this.w/2,this.cy=this.y+this.h/2,this}isNulled(){return wi(this)}merge(t){let n=Math.min(this.x,t.x),i=Math.min(this.y,t.y),r=Math.max(this.x+this.width,t.x+t.width)-n,s=Math.max(this.y+this.height,t.y+t.height)-i;return new e(n,i,r,s)}toArray(){return[this.x,this.y,this.width,this.height]}toString(){return this.x+" "+this.y+" "+this.width+" "+this.height}transform(t){t instanceof p||(t=new p(t));let n=1/0,i=-1/0,r=1/0,s=-1/0;return[new S(this.x,this.y),new S(this.x2,this.y),new S(this.x,this.y2),new S(this.x2,this.y2)].forEach(function(a){a=a.transform(t),n=Math.min(n,a.x),i=Math.max(i,a.x),r=Math.min(r,a.y),s=Math.max(s,a.y)}),new e(n,r,i-n,s-r)}};function bi(e,t,n){let i;try{if(i=t(e.node),wi(i)&&!cs(e.node))throw new Error("Element not in the dom")}catch{i=n(e)}return i}function ds(){let n=bi(this,r=>r.getBBox(),r=>{try{let s=r.clone().addTo(tt().svg).show(),o=s.node.getBBox();return s.remove(),o}catch(s){throw new Error(`Getting bbox of element "${r.node.nodeName}" is not possible: ${s.toString()}`)}});return new P(n)}function fs(e){let i=bi(this,s=>s.getBoundingClientRect(),s=>{throw new Error(`Getting rbox of element "${s.node.nodeName}" is not possible`)}),r=new P(i);return e?r.transform(e.screenCTM().inverseO()):r.addOffset()}function ps(e,t){let n=this.bbox();return e>n.x&&t>n.y&&e<n.x+n.width&&t<n.y+n.height}d({viewbox:{viewbox(e,t,n,i){return e==null?new P(this.attr("viewBox")):this.attr("viewBox",new P(e,t,n,i))},zoom(e,t){let{width:n,height:i}=this.attr(["width","height"]);if((!n&&!i||typeof n=="string"||typeof i=="string")&&(n=this.node.clientWidth,i=this.node.clientHeight),!n||!i)throw new Error("Impossible to get absolute width and height. Please provide an absolute width and height attribute on the zooming element");let r=this.viewbox(),s=n/r.width,o=i/r.height,a=Math.min(s,o);if(e==null)return a;let u=a/e;u===1/0&&(u=Number.MAX_SAFE_INTEGER/100),t=t||new S(n/2/s+r.x,i/2/o+r.y);let l=new P(r).transform(new p({scale:u,origin:t}));return this.viewbox(l)}}});g(P,"Box");var Q=class extends Array{constructor(t=[],...n){if(super(t,...n),typeof t=="number")return this;this.length=0,this.push(...t)}};f([Q],{each(e,...t){return typeof e=="function"?this.map((n,i,r)=>e.call(n,n,i,r)):this.map(n=>n[e](...t))},toArray(){return Array.prototype.concat.apply([],this)}});var ms=["toArray","constructor","each"];Q.extend=function(e){e=e.reduce((t,n)=>(ms.includes(n)||n[0]==="_"||(t[n]=function(...i){return this.each(n,...i)}),t),{}),f([Q],e)};function Bt(e,t){return new Q(dn((t||_.document).querySelectorAll(e),function(n){return $(n)}))}function gs(e){return Bt(e,this.node)}function ys(e){return $(this.node.querySelector(e))}var _s=0,Ci={};function xi(e){let t=e.getEventHolder();return t===_.window&&(t=Ci),t.events||(t.events={}),t.events}function gn(e){return e.getEventTarget()}function vs(e){let t=e.getEventHolder();t===_.window&&(t=Ci),t.events&&(t.events={})}function sn(e,t,n,i,r){let s=n.bind(i||e),o=O(e),a=xi(o),u=gn(o);t=Array.isArray(t)?t:t.split(J),n._svgjsListenerId||(n._svgjsListenerId=++_s),t.forEach(function(l){let h=l.split(".")[0],c=l.split(".")[1]||"*";a[h]=a[h]||{},a[h][c]=a[h][c]||{},a[h][c][n._svgjsListenerId]=s,u.addEventListener(h,s,r||!1)})}function St(e,t,n,i){let r=O(e),s=xi(r),o=gn(r);typeof n=="function"&&(n=n._svgjsListenerId,!n)||(t=Array.isArray(t)?t:(t||"").split(J),t.forEach(function(a){let u=a&&a.split(".")[0],l=a&&a.split(".")[1],h,c;if(n)s[u]&&s[u][l||"*"]&&(o.removeEventListener(u,s[u][l||"*"][n],i||!1),delete s[u][l||"*"][n]);else if(u&&l){if(s[u]&&s[u][l]){for(c in s[u][l])St(o,[u,l].join("."),c);delete s[u][l]}}else if(l)for(a in s)for(h in s[a])l===h&&St(o,[a,l].join("."));else if(u){if(s[u]){for(h in s[u])St(o,[u,h].join("."));delete s[u]}}else{for(a in s)St(o,a);vs(r)}}))}function ws(e,t,n,i){let r=gn(e);return t instanceof _.window.Event||(t=new _.window.CustomEvent(t,T({detail:n,cancelable:!0},i))),r.dispatchEvent(t),t}var pt=class extends Yt{addEventListener(){}dispatch(t,n,i){return ws(this,t,n,i)}dispatchEvent(t){let n=this.getEventHolder().events;if(!n)return!0;let i=n[t.type];for(let r in i)for(let s in i[r])i[r][s](t);return!t.defaultPrevented}fire(t,n,i){return this.dispatch(t,n,i),this}getEventHolder(){return this}getEventTarget(){return this}off(t,n,i){return St(this,t,n,i),this}on(t,n,i,r){return sn(this,t,n,i,r),this}removeEventListener(){}};g(pt,"EventTarget");function di(){}var Wt={duration:400,ease:">",delay:0},bs={"fill-opacity":1,"stroke-opacity":1,"stroke-width":0,"stroke-linejoin":"miter","stroke-linecap":"butt",fill:"#000000",stroke:"#000000",opacity:1,x:0,y:0,cx:0,cy:0,width:0,height:0,r:0,rx:0,ry:0,offset:0,"stop-opacity":1,"stop-color":"#000000","text-anchor":"start"};var et=class extends Array{constructor(...t){super(...t),this.init(...t)}clone(){return new this.constructor(this)}init(t){return typeof t=="number"?this:(this.length=0,this.push(...this.parse(t)),this)}parse(t=[]){return t instanceof Array?t:t.trim().split(J).map(parseFloat)}toArray(){return Array.prototype.concat.apply([],this)}toSet(){return new Set(this)}toString(){return this.join(" ")}valueOf(){let t=[];return t.push(...this),t}},m=class e{constructor(...t){this.init(...t)}convert(t){return new e(this.value,t)}divide(t){return t=new e(t),new e(this/t,this.unit||t.unit)}init(t,n){return n=Array.isArray(t)?t[1]:n,t=Array.isArray(t)?t[0]:t,this.value=0,this.unit=n||"",typeof t=="number"?this.value=isNaN(t)?0:isFinite(t)?t:t<0?-34e37:34e37:typeof t=="string"?(n=t.match(vi),n&&(this.value=parseFloat(n[1]),n[5]==="%"?this.value/=100:n[5]==="s"&&(this.value*=1e3),this.unit=n[5])):t instanceof e&&(this.value=t.valueOf(),this.unit=t.unit),this}minus(t){return t=new e(t),new e(this-t,this.unit||t.unit)}plus(t){return t=new e(t),new e(this+t,this.unit||t.unit)}times(t){return t=new e(t),new e(this*t,this.unit||t.unit)}toArray(){return[this.value,this.unit]}toJSON(){return this.toString()}toString(){return(this.unit==="%"?~~(this.value*1e8)/1e6:this.unit==="s"?this.value/1e3:this.value)+this.unit}valueOf(){return this.value}},Vi=[];function Cs(e){Vi.push(e)}function xs(e,t,n){if(e==null){e={},t=this.node.attributes;for(let i of t)e[i.nodeName]=ci.test(i.nodeValue)?parseFloat(i.nodeValue):i.nodeValue;return e}else{if(e instanceof Array)return e.reduce((i,r)=>(i[r]=this.attr(r),i),{});if(typeof e=="object"&&e.constructor===Object)for(t in e)this.attr(t,e[t]);else if(t===null)this.node.removeAttribute(e);else{if(t==null)return t=this.node.getAttribute(e),t==null?bs[e]:ci.test(t)?parseFloat(t):t;t=Vi.reduce((i,r)=>r(e,i,this),t),typeof t=="number"?t=new m(t):H.isColor(t)?t=new H(t):t.constructor===Array&&(t=new et(t)),e==="leading"?this.leading&&this.leading(t):typeof n=="string"?this.node.setAttributeNS(n,e,t.toString()):this.node.setAttribute(e,t.toString()),this.rebuild&&(e==="font-size"||e==="x")&&this.rebuild()}}return this}var nt=class e extends pt{constructor(t,n){super(),this.node=t,this.type=t.nodeName,n&&t!==n&&this.attr(n)}add(t,n){return t=O(t),t.removeNamespace&&this.node instanceof _.window.SVGElement&&t.removeNamespace(),n==null?this.node.appendChild(t.node):t.node!==this.node.childNodes[n]&&this.node.insertBefore(t.node,this.node.childNodes[n]),this}addTo(t,n){return O(t).put(this,n)}children(){return new Q(dn(this.node.children,function(t){return $(t)}))}clear(){for(;this.node.hasChildNodes();)this.node.removeChild(this.node.lastChild);return this}clone(t=!0,n=!0){this.writeDataToDom();let i=this.node.cloneNode(t);return n&&(i=_i(i)),new this.constructor(i)}each(t,n){let i=this.children(),r,s;for(r=0,s=i.length;r<s;r++)t.apply(i[r],[r,i]),n&&i[r].each(t,n);return this}element(t,n){return this.put(new e(Xt(t),n))}first(){return $(this.node.firstChild)}get(t){return $(this.node.childNodes[t])}getEventHolder(){return this.node}getEventTarget(){return this.node}has(t){return this.index(t)>=0}html(t,n){return this.xml(t,n,xr)}id(t){return typeof t>"u"&&!this.node.id&&(this.node.id=yi(this.type)),this.attr("id",t)}index(t){return[].slice.call(this.node.childNodes).indexOf(t.node)}last(){return $(this.node.lastChild)}matches(t){let n=this.node,i=n.matches||n.matchesSelector||n.msMatchesSelector||n.mozMatchesSelector||n.webkitMatchesSelector||n.oMatchesSelector||null;return i&&i.call(n,t)}parent(t){let n=this;if(!n.node.parentNode)return null;if(n=$(n.node.parentNode),!t)return n;do if(typeof t=="string"?n.matches(t):n instanceof t)return n;while(n=$(n.node.parentNode));return n}put(t,n){return t=O(t),this.add(t,n),t}putIn(t,n){return O(t).add(this,n)}remove(){return this.parent()&&this.parent().removeElement(this),this}removeElement(t){return this.node.removeChild(t.node),this}replace(t){return t=O(t),this.node.parentNode&&this.node.parentNode.replaceChild(t.node,this.node),t}round(t=2,n=null){let i=10**t,r=this.attr(n);for(let s in r)typeof r[s]=="number"&&(r[s]=Math.round(r[s]*i)/i);return this.attr(r),this}svg(t,n){return this.xml(t,n,fn)}toString(){return this.id()}words(t){return this.node.textContent=t,this}wrap(t){let n=this.parent();if(!n)return this.addTo(t);let i=n.index(this);return n.put(t,i).put(this)}writeDataToDom(){return this.each(function(){this.writeDataToDom()}),this}xml(t,n,i){if(typeof t=="boolean"&&(i=n,n=t,t=null),t==null||typeof t=="function"){n=n??!0,this.writeDataToDom();let a=this;if(t!=null){if(a=$(a.node.cloneNode(!0)),n){let u=t(a);if(a=u||a,u===!1)return""}a.each(function(){let u=t(this),l=u||this;u===!1?this.remove():u&&this!==l&&this.replace(l)},!0)}return n?a.node.outerHTML:a.node.innerHTML}n=n??!1;let r=Xt("wrapper",i),s=_.document.createDocumentFragment();r.innerHTML=t;for(let a=r.children.length;a--;)s.appendChild(r.firstElementChild);let o=this.parent();return n?this.replace(s)&&o:this.add(s)}};f(nt,{attr:xs,find:gs,findOne:ys});g(nt,"Dom");var W=class extends nt{constructor(t,n){super(t,n),this.dom={},this.node.instance=this,t.hasAttribute("svgjs:data")&&this.setData(JSON.parse(t.getAttribute("svgjs:data"))||{})}center(t,n){return this.cx(t).cy(n)}cx(t){return t==null?this.x()+this.width()/2:this.x(t-this.width()/2)}cy(t){return t==null?this.y()+this.height()/2:this.y(t-this.height()/2)}defs(){let t=this.root();return t&&t.defs()}dmove(t,n){return this.dx(t).dy(n)}dx(t=0){return this.x(new m(t).plus(this.x()))}dy(t=0){return this.y(new m(t).plus(this.y()))}getEventHolder(){return this}height(t){return this.attr("height",t)}move(t,n){return this.x(t).y(n)}parents(t=this.root()){let n=typeof t=="string";n||(t=O(t));let i=new Q,r=this;for(;(r=r.parent())&&r.node!==_.document&&r.nodeName!=="#document-fragment"&&(i.push(r),!(!n&&r.node===t.node||n&&r.matches(t)));)if(r.node===this.root().node)return null;return i}reference(t){if(t=this.attr(t),!t)return null;let n=(t+"").match(Lr);return n?O(n[1]):null}root(){let t=this.parent(Mr(pn));return t&&t.root()}setData(t){return this.dom=t,this}size(t,n){let i=Rt(this,t,n);return this.width(new m(i.width)).height(new m(i.height))}width(t){return this.attr("width",t)}writeDataToDom(){return this.node.removeAttribute("svgjs:data"),Object.keys(this.dom).length&&this.node.setAttribute("svgjs:data",JSON.stringify(this.dom)),super.writeDataToDom()}x(t){return this.attr("x",t)}y(t){return this.attr("y",t)}};f(W,{bbox:ds,rbox:fs,inside:ps,point:us,ctm:ls,screenCTM:hs});g(W,"Element");var Ht={stroke:["color","width","opacity","linecap","linejoin","miterlimit","dasharray","dashoffset"],fill:["color","opacity","rule"],prefix:function(e,t){return t==="color"?e:e+"-"+t}};["fill","stroke"].forEach(function(e){let t={},n;t[e]=function(i){if(typeof i>"u")return this.attr(e);if(typeof i=="string"||i instanceof H||H.isRgb(i)||i instanceof W)this.attr(e,i);else for(n=Ht[e].length-1;n>=0;n--)i[Ht[e][n]]!=null&&this.attr(Ht.prefix(e,Ht[e][n]),i[Ht[e][n]]);return this},d(["Element","Runner"],t)});d(["Element","Runner"],{matrix:function(e,t,n,i,r,s){return e==null?new p(this):this.attr("transform",new p(e,t,n,i,r,s))},rotate:function(e,t,n){return this.transform({rotate:e,ox:t,oy:n},!0)},skew:function(e,t,n,i){return arguments.length===1||arguments.length===3?this.transform({skew:e,ox:t,oy:n},!0):this.transform({skew:[e,t],ox:n,oy:i},!0)},shear:function(e,t,n){return this.transform({shear:e,ox:t,oy:n},!0)},scale:function(e,t,n,i){return arguments.length===1||arguments.length===3?this.transform({scale:e,ox:t,oy:n},!0):this.transform({scale:[e,t],ox:n,oy:i},!0)},translate:function(e,t){return this.transform({translate:[e,t]},!0)},relative:function(e,t){return this.transform({relative:[e,t]},!0)},flip:function(e="both",t="center"){return"xybothtrue".indexOf(e)===-1&&(t=e,e="both"),this.transform({flip:e,origin:t},!0)},opacity:function(e){return this.attr("opacity",e)}});d("radius",{radius:function(e,t=e){return(this._element||this).type==="radialGradient"?this.attr("r",new m(e)):this.rx(e).ry(t)}});d("Path",{length:function(){return this.node.getTotalLength()},pointAt:function(e){return new S(this.node.getPointAtLength(e))}});d(["Element","Runner"],{font:function(e,t){if(typeof e=="object"){for(t in e)this.font(t,e[t]);return this}return e==="leading"?this.leading(t):e==="anchor"?this.attr("text-anchor",t):e==="size"||e==="family"||e==="weight"||e==="stretch"||e==="variant"||e==="style"?this.attr("font-"+e,t):this.attr(e,t)}});var Vs=["click","dblclick","mousedown","mouseup","mouseover","mouseout","mousemove","mouseenter","mouseleave","touchstart","touchmove","touchleave","touchend","touchcancel"].reduce(function(e,t){let n=function(i){return i===null?this.off(t):this.on(t,i),this};return e[t]=n,e},{});d("Element",Vs);function Ms(){return this.attr("transform",null)}function Ds(){return(this.attr("transform")||"").split(zr).slice(0,-1).map(function(t){let n=t.trim().split("(");return[n[0],n[1].split(J).map(function(i){return parseFloat(i)})]}).reverse().reduce(function(t,n){return n[0]==="matrix"?t.lmultiply(p.fromArray(n[1])):t[n[0]].apply(t,n[1])},new p)}function As(e,t){if(this===e)return this;let n=this.screenCTM(),i=e.screenCTM().inverse();return this.addTo(e,t).untransform().transform(i.multiply(n)),this}function Es(e){return this.toParent(this.root(),e)}function Ss(e,t){if(e==null||typeof e=="string"){let r=new p(this).decompose();return e==null?r:r[e]}p.isMatrixLike(e)||(e=q(T({},e),{origin:rn(e,this)}));let n=t===!0?this:t||!1,i=new p(n).transform(e);return this.attr("transform",i)}d("Element",{untransform:Ms,matrixify:Ds,toParent:As,toRoot:Es,transform:Ss});var j=class e extends W{flatten(t=this,n){return this.each(function(){if(this instanceof e)return this.flatten().ungroup()}),this}ungroup(t=this.parent(),n=t.index(this)){return n=n===-1?t.children().length:n,this.each(function(i,r){return r[r.length-i-1].toParent(t,n)}),this.remove()}};g(j,"Container");var Kt=class extends j{constructor(t,n=t){super(A("defs",t),n)}flatten(){return this}ungroup(){return this}};g(Kt,"Defs");var k=class extends W{};g(k,"Shape");function yn(e){return this.attr("rx",e)}function _n(e){return this.attr("ry",e)}function Mi(e){return e==null?this.cx()-this.rx():this.cx(e+this.rx())}function Di(e){return e==null?this.cy()-this.ry():this.cy(e+this.ry())}function Ai(e){return this.attr("cx",e)}function Ei(e){return this.attr("cy",e)}function Si(e){return e==null?this.rx()*2:this.rx(new m(e).divide(2))}function Fi(e){return e==null?this.ry()*2:this.ry(new m(e).divide(2))}var Fs={__proto__:null,rx:yn,ry:_n,x:Mi,y:Di,cx:Ai,cy:Ei,width:Si,height:Fi},It=class extends k{constructor(t,n=t){super(A("ellipse",t),n)}size(t,n){let i=Rt(this,t,n);return this.rx(new m(i.width).divide(2)).ry(new m(i.height).divide(2))}};f(It,Fs);d("Container",{ellipse:D(function(e=0,t=e){return this.put(new It).size(e,t).move(0,0)})});g(It,"Ellipse");var Ve=class extends nt{constructor(t=_.document.createDocumentFragment()){super(t)}xml(t,n,i){if(typeof t=="boolean"&&(i=n,n=t,t=null),t==null||typeof t=="function"){let r=new nt(Xt("wrapper",i));return r.add(this.node.cloneNode(!0)),r.xml(!1,i)}return super.xml(t,!1,i)}};g(Ve,"Fragment");function Ii(e,t){return(this._element||this).type==="radialGradient"?this.attr({fx:new m(e),fy:new m(t)}):this.attr({x1:new m(e),y1:new m(t)})}function Ni(e,t){return(this._element||this).type==="radialGradient"?this.attr({cx:new m(e),cy:new m(t)}):this.attr({x2:new m(e),y2:new m(t)})}var Is={__proto__:null,from:Ii,to:Ni},mt=class extends j{constructor(t,n){super(A(t+"Gradient",typeof t=="string"?null:t),n)}attr(t,n,i){return t==="transform"&&(t="gradientTransform"),super.attr(t,n,i)}bbox(){return new P}targets(){return Bt("svg [fill*="+this.id()+"]")}toString(){return this.url()}update(t){return this.clear(),typeof t=="function"&&t.call(this,this),this}url(){return"url(#"+this.id()+")"}};f(mt,Is);d({Container:{gradient(...e){return this.defs().gradient(...e)}},Defs:{gradient:D(function(e,t){return this.put(new mt(e)).update(t)})}});g(mt,"Gradient");var gt=class extends j{constructor(t,n=t){super(A("pattern",t),n)}attr(t,n,i){return t==="transform"&&(t="patternTransform"),super.attr(t,n,i)}bbox(){return new P}targets(){return Bt("svg [fill*="+this.id()+"]")}toString(){return this.url()}update(t){return this.clear(),typeof t=="function"&&t.call(this,this),this}url(){return"url(#"+this.id()+")"}};d({Container:{pattern(...e){return this.defs().pattern(...e)}},Defs:{pattern:D(function(e,t,n){return this.put(new gt).update(n).attr({x:0,y:0,width:e,height:t,patternUnits:"userSpaceOnUse"})})}});g(gt,"Pattern");var Nt=class extends k{constructor(t,n=t){super(A("image",t),n)}load(t,n){if(!t)return this;let i=new _.window.Image;return sn(i,"load",function(r){let s=this.parent(gt);this.width()===0&&this.height()===0&&this.size(i.width,i.height),s instanceof gt&&s.width()===0&&s.height()===0&&s.size(this.width(),this.height()),typeof n=="function"&&n.call(this,r)},this),sn(i,"load error",function(){St(i)}),this.attr("href",i.src=t,ue)}};Cs(function(e,t,n){return(e==="fill"||e==="stroke")&&$r.test(t)&&(t=n.root().defs().image(t)),t instanceof Nt&&(t=n.root().defs().pattern(0,0,i=>{i.add(t)})),t});d({Container:{image:D(function(e,t){return this.put(new Nt).size(0,0).load(e,t)})}});g(Nt,"Image");var X=class extends et{bbox(){let t=-1/0,n=-1/0,i=1/0,r=1/0;return this.forEach(function(s){t=Math.max(s[0],t),n=Math.max(s[1],n),i=Math.min(s[0],i),r=Math.min(s[1],r)}),new P(i,r,t-i,n-r)}move(t,n){let i=this.bbox();if(t-=i.x,n-=i.y,!isNaN(t)&&!isNaN(n))for(let r=this.length-1;r>=0;r--)this[r]=[this[r][0]+t,this[r][1]+n];return this}parse(t=[0,0]){let n=[];t instanceof Array?t=Array.prototype.concat.apply([],t):t=t.trim().split(J).map(parseFloat),t.length%2!==0&&t.pop();for(let i=0,r=t.length;i<r;i=i+2)n.push([t[i],t[i+1]]);return n}size(t,n){let i,r=this.bbox();for(i=this.length-1;i>=0;i--)r.width&&(this[i][0]=(this[i][0]-r.x)*t/r.width+r.x),r.height&&(this[i][1]=(this[i][1]-r.y)*n/r.height+r.y);return this}toLine(){return{x1:this[0][0],y1:this[0][1],x2:this[1][0],y2:this[1][1]}}toString(){let t=[];for(let n=0,i=this.length;n<i;n++)t.push(this[n].join(","));return t.join(" ")}transform(t){return this.clone().transformO(t)}transformO(t){p.isMatrixLike(t)||(t=new p(t));for(let n=this.length;n--;){let[i,r]=this[n];this[n][0]=t.a*i+t.c*r+t.e,this[n][1]=t.b*i+t.d*r+t.f}return this}},Ns=X;function Os(e){return e==null?this.bbox().x:this.move(e,this.bbox().y)}function ks(e){return e==null?this.bbox().y:this.move(this.bbox().x,e)}function Ts(e){let t=this.bbox();return e==null?t.width:this.size(e,t.height)}function Ps(e){let t=this.bbox();return e==null?t.height:this.size(t.width,e)}var vn={__proto__:null,MorphArray:Ns,x:Os,y:ks,width:Ts,height:Ps},yt=class extends k{constructor(t,n=t){super(A("line",t),n)}array(){return new X([[this.attr("x1"),this.attr("y1")],[this.attr("x2"),this.attr("y2")]])}move(t,n){return this.attr(this.array().move(t,n).toLine())}plot(t,n,i,r){return t==null?this.array():(typeof n<"u"?t={x1:t,y1:n,x2:i,y2:r}:t=new X(t).toLine(),this.attr(t))}size(t,n){let i=Rt(this,t,n);return this.attr(this.array().size(i.width,i.height).toLine())}};f(yt,vn);d({Container:{line:D(function(...e){return yt.prototype.plot.apply(this.put(new yt),e[0]!=null?e:[0,0,0,0])})}});g(yt,"Line");var Ot=class extends j{constructor(t,n=t){super(A("marker",t),n)}height(t){return this.attr("markerHeight",t)}orient(t){return this.attr("orient",t)}ref(t,n){return this.attr("refX",t).attr("refY",n)}toString(){return"url(#"+this.id()+")"}update(t){return this.clear(),typeof t=="function"&&t.call(this,this),this}width(t){return this.attr("markerWidth",t)}};d({Container:{marker(...e){return this.defs().marker(...e)}},Defs:{marker:D(function(e,t,n){return this.put(new Ot).size(e,t).ref(e/2,t/2).viewbox(0,0,e,t).attr("orient","auto").update(n)})},marker:{marker(e,t,n,i){let r=["marker"];return e!=="all"&&r.push(e),r=r.join("-"),e=arguments[1]instanceof Ot?arguments[1]:this.defs().marker(t,n,i),this.attr(r,e)}}});g(Ot,"Marker");function Ft(e,t){return function(n){return n==null?this[e]:(this[e]=n,t&&t.call(this),this)}}var js={"-":function(e){return e},"<>":function(e){return-Math.cos(e*Math.PI)/2+.5},">":function(e){return Math.sin(e*Math.PI/2)},"<":function(e){return-Math.cos(e*Math.PI/2)+1},bezier:function(e,t,n,i){return function(r){return r<0?e>0?t/e*r:n>0?i/n*r:0:r>1?n<1?(1-i)/(1-n)*r+(i-n)/(1-n):e<1?(1-t)/(1-e)*r+(t-e)/(1-e):1:3*r*(1-r)**2*t+3*r**2*(1-r)*i+r**3}},steps:function(e,t="end"){t=t.split("-").reverse()[0];let n=e;return t==="none"?--n:t==="both"&&++n,(i,r=!1)=>{let s=Math.floor(i*e),o=i*s%1===0;return(t==="start"||t==="both")&&++s,r&&o&&--s,i>=0&&s<0&&(s=0),i<=1&&s>n&&(s=n),s/n}}},Qt=class{done(){return!1}},Zt=class extends Qt{constructor(t=Wt.ease){super(),this.ease=js[t]||t}step(t,n,i){return typeof t!="number"?i<1?t:n:t+(n-t)*this.ease(i)}},kt=class extends Qt{constructor(t){super(),this.stepper=t}done(t){return t.done}step(t,n,i,r){return this.stepper(t,n,i,r)}};function fi(){let e=(this._duration||500)/1e3,t=this._overshoot||0,n=1e-10,i=Math.PI,r=Math.log(t/100+n),s=-r/Math.sqrt(i*i+r*r),o=3.9/(s*e);this.d=2*s*o,this.k=o*o}var on=class extends kt{constructor(t=500,n=0){super(),this.duration(t).overshoot(n)}step(t,n,i,r){if(typeof t=="string")return t;if(r.done=i===1/0,i===1/0)return n;if(i===0)return t;i>100&&(i=16),i/=1e3;let s=r.velocity||0,o=-this.d*s-this.k*(t-n),a=t+s*i+o*i*i/2;return r.velocity=s+o*i,r.done=Math.abs(n-a)+Math.abs(s)<.002,r.done?n:a}};f(on,{duration:Ft("_duration",fi),overshoot:Ft("_overshoot",fi)});var an=class extends kt{constructor(t=.1,n=.01,i=0,r=1e3){super(),this.p(t).i(n).d(i).windup(r)}step(t,n,i,r){if(typeof t=="string")return t;if(r.done=i===1/0,i===1/0)return n;if(i===0)return t;let s=n-t,o=(r.integral||0)+s*i,a=(s-(r.error||0))/i,u=this._windup;return u!==!1&&(o=Math.max(-u,Math.min(o,u))),r.error=s,r.integral=o,r.done=Math.abs(s)<.001,r.done?n:t+(this.P*s+this.I*o+this.D*a)}};f(an,{windup:Ft("_windup"),p:Ft("P"),i:Ft("I"),d:Ft("D")});var Gs={M:2,L:2,H:1,V:1,C:6,S:4,Q:4,T:2,A:7,Z:0},un={M:function(e,t,n){return t.x=n.x=e[0],t.y=n.y=e[1],["M",t.x,t.y]},L:function(e,t){return t.x=e[0],t.y=e[1],["L",e[0],e[1]]},H:function(e,t){return t.x=e[0],["H",e[0]]},V:function(e,t){return t.y=e[0],["V",e[0]]},C:function(e,t){return t.x=e[4],t.y=e[5],["C",e[0],e[1],e[2],e[3],e[4],e[5]]},S:function(e,t){return t.x=e[2],t.y=e[3],["S",e[0],e[1],e[2],e[3]]},Q:function(e,t){return t.x=e[2],t.y=e[3],["Q",e[0],e[1],e[2],e[3]]},T:function(e,t){return t.x=e[0],t.y=e[1],["T",e[0],e[1]]},Z:function(e,t,n){return t.x=n.x,t.y=n.y,["Z"]},A:function(e,t){return t.x=e[5],t.y=e[6],["A",e[0],e[1],e[2],e[3],e[4],e[5],e[6]]}},en="mlhvqtcsaz".split("");for(let e=0,t=en.length;e<t;++e)un[en[e]]=function(n){return function(i,r,s){if(n==="H")i[0]=i[0]+r.x;else if(n==="V")i[0]=i[0]+r.y;else if(n==="A")i[5]=i[5]+r.x,i[6]=i[6]+r.y;else for(let o=0,a=i.length;o<a;++o)i[o]=i[o]+(o%2?r.y:r.x);return un[n](i,r,s)}}(en[e].toUpperCase());function Rs(e){let t=e.segment[0];return un[t](e.segment.slice(1),e.p,e.p0)}function ln(e){return e.segment.length&&e.segment.length-1===Gs[e.segment[0].toUpperCase()]}function Bs(e,t){e.inNumber&&dt(e,!1);let n=mn.test(t);if(n)e.segment=[t];else{let i=e.lastCommand,r=i.toLowerCase(),s=i===r;e.segment=[r==="m"?s?"l":"L":i]}return e.inSegment=!0,e.lastCommand=e.segment[0],n}function dt(e,t){if(!e.inNumber)throw new Error("Parser Error");e.number&&e.segment.push(parseFloat(e.number)),e.inNumber=t,e.number="",e.pointSeen=!1,e.hasExponent=!1,ln(e)&&hn(e)}function hn(e){e.inSegment=!1,e.absolute&&(e.segment=Rs(e)),e.segments.push(e.segment)}function Ls(e){if(!e.segment.length)return!1;let t=e.segment[0].toUpperCase()==="A",n=e.segment.length;return t&&(n===4||n===5)}function zs(e){return e.lastToken.toUpperCase()==="E"}function Us(e,t=!0){let n=0,i="",r={segment:[],inNumber:!1,number:"",lastToken:"",inSegment:!1,segments:[],pointSeen:!1,hasExponent:!1,absolute:t,p0:new S,p:new S};for(;r.lastToken=i,i=e.charAt(n++);)if(!(!r.inSegment&&Bs(r,i))){if(i==="."){if(r.pointSeen||r.hasExponent){dt(r,!1),--n;continue}r.inNumber=!0,r.pointSeen=!0,r.number+=i;continue}if(!isNaN(parseInt(i))){if(r.number==="0"||Ls(r)){r.inNumber=!0,r.number=i,dt(r,!0);continue}r.inNumber=!0,r.number+=i;continue}if(i===" "||i===","){r.inNumber&&dt(r,!1);continue}if(i==="-"){if(r.inNumber&&!zs(r)){dt(r,!1),--n;continue}r.number+=i,r.inNumber=!0;continue}if(i.toUpperCase()==="E"){r.number+=i,r.hasExponent=!0;continue}if(mn.test(i)){if(r.inNumber)dt(r,!1);else if(ln(r))hn(r);else throw new Error("parser Error");--n}}return r.inNumber&&dt(r,!1),r.inSegment&&ln(r)&&hn(r),r.segments}function $s(e){let t="";for(let n=0,i=e.length;n<i;n++)t+=e[n][0],e[n][1]!=null&&(t+=e[n][1],e[n][2]!=null&&(t+=" ",t+=e[n][2],e[n][3]!=null&&(t+=" ",t+=e[n][3],t+=" ",t+=e[n][4],e[n][5]!=null&&(t+=" ",t+=e[n][5],t+=" ",t+=e[n][6],e[n][7]!=null&&(t+=" ",t+=e[n][7])))));return t+" "}var Z=class extends et{bbox(){return tt().path.setAttribute("d",this.toString()),new P(tt.nodes.path.getBBox())}move(t,n){let i=this.bbox();if(t-=i.x,n-=i.y,!isNaN(t)&&!isNaN(n))for(let r,s=this.length-1;s>=0;s--)r=this[s][0],r==="M"||r==="L"||r==="T"?(this[s][1]+=t,this[s][2]+=n):r==="H"?this[s][1]+=t:r==="V"?this[s][1]+=n:r==="C"||r==="S"||r==="Q"?(this[s][1]+=t,this[s][2]+=n,this[s][3]+=t,this[s][4]+=n,r==="C"&&(this[s][5]+=t,this[s][6]+=n)):r==="A"&&(this[s][6]+=t,this[s][7]+=n);return this}parse(t="M0 0"){return Array.isArray(t)&&(t=Array.prototype.concat.apply([],t).toString()),Us(t)}size(t,n){let i=this.bbox(),r,s;for(i.width=i.width===0?1:i.width,i.height=i.height===0?1:i.height,r=this.length-1;r>=0;r--)s=this[r][0],s==="M"||s==="L"||s==="T"?(this[r][1]=(this[r][1]-i.x)*t/i.width+i.x,this[r][2]=(this[r][2]-i.y)*n/i.height+i.y):s==="H"?this[r][1]=(this[r][1]-i.x)*t/i.width+i.x:s==="V"?this[r][1]=(this[r][1]-i.y)*n/i.height+i.y:s==="C"||s==="S"||s==="Q"?(this[r][1]=(this[r][1]-i.x)*t/i.width+i.x,this[r][2]=(this[r][2]-i.y)*n/i.height+i.y,this[r][3]=(this[r][3]-i.x)*t/i.width+i.x,this[r][4]=(this[r][4]-i.y)*n/i.height+i.y,s==="C"&&(this[r][5]=(this[r][5]-i.x)*t/i.width+i.x,this[r][6]=(this[r][6]-i.y)*n/i.height+i.y)):s==="A"&&(this[r][1]=this[r][1]*t/i.width,this[r][2]=this[r][2]*n/i.height,this[r][6]=(this[r][6]-i.x)*t/i.width+i.x,this[r][7]=(this[r][7]-i.y)*n/i.height+i.y);return this}toString(){return $s(this)}},Oi=e=>{let t=typeof e;return t==="number"?m:t==="string"?H.isColor(e)?H:J.test(e)?mn.test(e)?Z:et:vi.test(e)?m:Jt:wn.indexOf(e.constructor)>-1?e.constructor:Array.isArray(e)?et:t==="object"?_t:Jt},K=class{constructor(t){this._stepper=t||new Zt("-"),this._from=null,this._to=null,this._type=null,this._context=null,this._morphObj=null}at(t){return this._morphObj.morph(this._from,this._to,t,this._stepper,this._context)}done(){return this._context.map(this._stepper.done).reduce(function(n,i){return n&&i},!0)}from(t){return t==null?this._from:(this._from=this._set(t),this)}stepper(t){return t==null?this._stepper:(this._stepper=t,this)}to(t){return t==null?this._to:(this._to=this._set(t),this)}type(t){return t==null?this._type:(this._type=t,this)}_set(t){this._type||this.type(Oi(t));let n=new this._type(t);return this._type===H&&(n=this._to?n[this._to[4]]():this._from?n[this._from[4]]():n),this._type===_t&&(n=this._to?n.align(this._to):this._from?n.align(this._from):n),n=n.toConsumable(),this._morphObj=this._morphObj||new this._type,this._context=this._context||Array.apply(null,Array(n.length)).map(Object).map(function(i){return i.done=!0,i}),n}},Jt=class{constructor(...t){this.init(...t)}init(t){return t=Array.isArray(t)?t[0]:t,this.value=t,this}toArray(){return[this.value]}valueOf(){return this.value}},ki=(()=>{class e{constructor(...n){this.init(...n)}init(n){return Array.isArray(n)&&(n={scaleX:n[0],scaleY:n[1],shear:n[2],rotate:n[3],translateX:n[4],translateY:n[5],originX:n[6],originY:n[7]}),Object.assign(this,e.defaults,n),this}toArray(){let n=this;return[n.scaleX,n.scaleY,n.shear,n.rotate,n.translateX,n.translateY,n.originX,n.originY]}}return e.defaults={scaleX:1,scaleY:1,shear:0,rotate:0,translateX:0,translateY:0,originX:0,originY:0},e})(),Hs=(e,t)=>e[0]<t[0]?-1:e[0]>t[0]?1:0,_t=class{constructor(...t){this.init(...t)}align(t){let n=this.values;for(let i=0,r=n.length;i<r;++i){if(n[i+1]===t[i+1]){if(n[i+1]===H&&t[i+7]!==n[i+7]){let a=t[i+7],u=new H(this.values.splice(i+3,5))[a]().toArray();this.values.splice(i+3,0,...u)}i+=n[i+2]+2;continue}if(!t[i+1])return this;let s=new t[i+1]().toArray(),o=n[i+2]+3;n.splice(i,o,t[i],t[i+1],t[i+2],...s),i+=n[i+2]+2}return this}init(t){if(this.values=[],Array.isArray(t)){this.values=t.slice();return}t=t||{};let n=[];for(let i in t){let r=Oi(t[i]),s=new r(t[i]).toArray();n.push([i,r,s.length,...s])}return n.sort(Hs),this.values=n.reduce((i,r)=>i.concat(r),[]),this}toArray(){return this.values}valueOf(){let t={},n=this.values;for(;n.length;){let i=n.shift(),r=n.shift(),s=n.shift(),o=n.splice(0,s);t[i]=new r(o)}return t}},wn=[Jt,ki,_t];function Ws(e=[]){wn.push(...[].concat(e))}function qs(){f(wn,{to(e){return new K().type(this.constructor).from(this.toArray()).to(e)},fromArray(e){return this.init(e),this},toConsumable(){return this.toArray()},morph(e,t,n,i,r){let s=function(o,a){return i.step(o,t[a],n,r[a],r)};return this.fromArray(e.map(s))}})}var it=class extends k{constructor(t,n=t){super(A("path",t),n)}array(){return this._array||(this._array=new Z(this.attr("d")))}clear(){return delete this._array,this}height(t){return t==null?this.bbox().height:this.size(this.bbox().width,t)}move(t,n){return this.attr("d",this.array().move(t,n))}plot(t){return t==null?this.array():this.clear().attr("d",typeof t=="string"?t:this._array=new Z(t))}size(t,n){let i=Rt(this,t,n);return this.attr("d",this.array().size(i.width,i.height))}width(t){return t==null?this.bbox().width:this.size(t,this.bbox().height)}x(t){return t==null?this.bbox().x:this.move(t,this.bbox().y)}y(t){return t==null?this.bbox().y:this.move(this.bbox().x,t)}};it.prototype.MorphArray=Z;d({Container:{path:D(function(e){return this.put(new it).plot(e||new Z)})}});g(it,"Path");function Ys(){return this._array||(this._array=new X(this.attr("points")))}function Xs(){return delete this._array,this}function Ks(e,t){return this.attr("points",this.array().move(e,t))}function Qs(e){return e==null?this.array():this.clear().attr("points",typeof e=="string"?e:this._array=new X(e))}function Zs(e,t){let n=Rt(this,e,t);return this.attr("points",this.array().size(n.width,n.height))}var Ti={__proto__:null,array:Ys,clear:Xs,move:Ks,plot:Qs,size:Zs},vt=class extends k{constructor(t,n=t){super(A("polygon",t),n)}};d({Container:{polygon:D(function(e){return this.put(new vt).plot(e||new X)})}});f(vt,vn);f(vt,Ti);g(vt,"Polygon");var wt=class extends k{constructor(t,n=t){super(A("polyline",t),n)}};d({Container:{polyline:D(function(e){return this.put(new wt).plot(e||new X)})}});f(wt,vn);f(wt,Ti);g(wt,"Polyline");var Tt=class extends k{constructor(t,n=t){super(A("rect",t),n)}};f(Tt,{rx:yn,ry:_n});d({Container:{rect:D(function(e,t){return this.put(new Tt).size(e,t)})}});g(Tt,"Rect");var qt=class{constructor(){this._first=null,this._last=null}first(){return this._first&&this._first.value}last(){return this._last&&this._last.value}push(t){let n=typeof t.next<"u"?t:{value:t,next:null,prev:null};return this._last?(n.prev=this._last,this._last.next=n,this._last=n):(this._last=n,this._first=n),n}remove(t){t.prev&&(t.prev.next=t.next),t.next&&(t.next.prev=t.prev),t===this._last&&(this._last=t.prev),t===this._first&&(this._first=t.next),t.prev=null,t.next=null}shift(){let t=this._first;return t?(this._first=t.next,this._first&&(this._first.prev=null),this._last=this._first?this._last:null,t.value):null}},C={nextDraw:null,frames:new qt,timeouts:new qt,immediates:new qt,timer:()=>_.window.performance||_.window.Date,transforms:[],frame(e){let t=C.frames.push({run:e});return C.nextDraw===null&&(C.nextDraw=_.window.requestAnimationFrame(C._draw)),t},timeout(e,t){t=t||0;let n=C.timer().now()+t,i=C.timeouts.push({run:e,time:n});return C.nextDraw===null&&(C.nextDraw=_.window.requestAnimationFrame(C._draw)),i},immediate(e){let t=C.immediates.push(e);return C.nextDraw===null&&(C.nextDraw=_.window.requestAnimationFrame(C._draw)),t},cancelFrame(e){e!=null&&C.frames.remove(e)},clearTimeout(e){e!=null&&C.timeouts.remove(e)},cancelImmediate(e){e!=null&&C.immediates.remove(e)},_draw(e){let t=null,n=C.timeouts.last();for(;(t=C.timeouts.shift())&&(e>=t.time?t.run():C.timeouts.push(t),t!==n););let i=null,r=C.frames.last();for(;i!==r&&(i=C.frames.shift());)i.run(e);let s=null;for(;s=C.immediates.shift();)s();C.nextDraw=C.timeouts.first()||C.frames.first()?_.window.requestAnimationFrame(C._draw):null}},Js=function(e){let t=e.start,n=e.runner.duration(),i=t+n;return{start:t,duration:n,end:i,runner:e.runner}},to=function(){let e=_.window;return(e.performance||e.Date).now()},Me=class extends pt{constructor(t=to){super(),this._timeSource=t,this._startTime=0,this._speed=1,this._persist=0,this._nextFrame=null,this._paused=!0,this._runners=[],this._runnerIds=[],this._lastRunnerId=-1,this._time=0,this._lastSourceTime=0,this._lastStepTime=0,this._step=this._stepFn.bind(this,!1),this._stepImmediate=this._stepFn.bind(this,!0)}active(){return!!this._nextFrame}finish(){return this.time(this.getEndTimeOfTimeline()+1),this.pause()}getEndTime(){let t=this.getLastRunnerInfo(),n=t?t.runner.duration():0;return(t?t.start:this._time)+n}getEndTimeOfTimeline(){let t=this._runners.map(n=>n.start+n.runner.duration());return Math.max(0,...t)}getLastRunnerInfo(){return this.getRunnerInfoById(this._lastRunnerId)}getRunnerInfoById(t){return this._runners[this._runnerIds.indexOf(t)]||null}pause(){return this._paused=!0,this._continue()}persist(t){return t==null?this._persist:(this._persist=t,this)}play(){return this._paused=!1,this.updateTime()._continue()}reverse(t){let n=this.speed();if(t==null)return this.speed(-n);let i=Math.abs(n);return this.speed(t?-i:i)}schedule(t,n,i){if(t==null)return this._runners.map(Js);let r=0,s=this.getEndTime();if(n=n||0,i==null||i==="last"||i==="after")r=s;else if(i==="absolute"||i==="start")r=n,n=0;else if(i==="now")r=this._time;else if(i==="relative"){let u=this.getRunnerInfoById(t.id);u&&(r=u.start+n,n=0)}else if(i==="with-last"){let u=this.getLastRunnerInfo();r=u?u.start:this._time}else throw new Error('Invalid value for the "when" parameter');t.unschedule(),t.timeline(this);let o=t.persist(),a={persist:o===null?this._persist:o,start:r+n,runner:t};return this._lastRunnerId=t.id,this._runners.push(a),this._runners.sort((u,l)=>u.start-l.start),this._runnerIds=this._runners.map(u=>u.runner.id),this.updateTime()._continue(),this}seek(t){return this.time(this._time+t)}source(t){return t==null?this._timeSource:(this._timeSource=t,this)}speed(t){return t==null?this._speed:(this._speed=t,this)}stop(){return this.time(0),this.pause()}time(t){return t==null?this._time:(this._time=t,this._continue(!0))}unschedule(t){let n=this._runnerIds.indexOf(t.id);return n<0?this:(this._runners.splice(n,1),this._runnerIds.splice(n,1),t.timeline(null),this)}updateTime(){return this.active()||(this._lastSourceTime=this._timeSource()),this}_continue(t=!1){return C.cancelFrame(this._nextFrame),this._nextFrame=null,t?this._stepImmediate():this._paused?this:(this._nextFrame=C.frame(this._step),this)}_stepFn(t=!1){let n=this._timeSource(),i=n-this._lastSourceTime;t&&(i=0);let r=this._speed*i+(this._time-this._lastStepTime);this._lastSourceTime=n,t||(this._time+=r,this._time=this._time<0?0:this._time),this._lastStepTime=this._time,this.fire("time",this._time);for(let o=this._runners.length;o--;){let a=this._runners[o],u=a.runner;this._time-a.start<=0&&u.reset()}let s=!1;for(let o=0,a=this._runners.length;o<a;o++){let u=this._runners[o],l=u.runner,h=r,c=this._time-u.start;if(c<=0){s=!0;continue}else c<h&&(h=c);if(!l.active())continue;l.step(h).done?u.persist!==!0&&l.duration()-l.time()+this._time+u.persist<this._time&&(l.unschedule(),--o,--a):s=!0}return s&&!(this._speed<0&&this._time===0)||this._runnerIds.length&&this._speed<0&&this._time>0?this._continue():(this.pause(),this.fire("finished")),this}};d({Element:{timeline:function(e){return e==null?(this._timeline=this._timeline||new Me,this._timeline):(this._timeline=e,this)}}});var rt=(()=>{class e extends pt{constructor(n){super(),this.id=e.id++,n=n??Wt.duration,n=typeof n=="function"?new kt(n):n,this._element=null,this._timeline=null,this.done=!1,this._queue=[],this._duration=typeof n=="number"&&n,this._isDeclarative=n instanceof kt,this._stepper=this._isDeclarative?n:new Zt,this._history={},this.enabled=!0,this._time=0,this._lastTime=0,this._reseted=!0,this.transforms=new p,this.transformId=1,this._haveReversed=!1,this._reverse=!1,this._loopsDone=0,this._swing=!1,this._wait=0,this._times=1,this._frameId=null,this._persist=this._isDeclarative?!0:null}static sanitise(n,i,r){let s=1,o=!1,a=0;return n=n||Wt.duration,i=i||Wt.delay,r=r||"last",typeof n=="object"&&!(n instanceof Qt)&&(i=n.delay||i,r=n.when||r,o=n.swing||o,s=n.times||s,a=n.wait||a,n=n.duration||Wt.duration),{duration:n,delay:i,swing:o,times:s,wait:a,when:r}}active(n){return n==null?this.enabled:(this.enabled=n,this)}addTransform(n,i){return this.transforms.lmultiplyO(n),this}after(n){return this.on("finished",n)}animate(n,i,r){let s=e.sanitise(n,i,r),o=new e(s.duration);return this._timeline&&o.timeline(this._timeline),this._element&&o.element(this._element),o.loop(s).schedule(s.delay,s.when)}clearTransform(){return this.transforms=new p,this}clearTransformsFromQueue(){(!this.done||!this._timeline||!this._timeline._runnerIds.includes(this.id))&&(this._queue=this._queue.filter(n=>!n.isTransform))}delay(n){return this.animate(0,n)}duration(){return this._times*(this._wait+this._duration)-this._wait}during(n){return this.queue(null,n)}ease(n){return this._stepper=new Zt(n),this}element(n){return n==null?this._element:(this._element=n,n._prepareRunner(),this)}finish(){return this.step(1/0)}loop(n,i,r){return typeof n=="object"&&(i=n.swing,r=n.wait,n=n.times),this._times=n||1/0,this._swing=i||!1,this._wait=r||0,this._times===!0&&(this._times=1/0),this}loops(n){let i=this._duration+this._wait;if(n==null){let a=Math.floor(this._time/i),l=(this._time-a*i)/this._duration;return Math.min(a+l,this._times)}let r=Math.floor(n),s=n%1,o=i*r+this._duration*s;return this.time(o)}persist(n){return n==null?this._persist:(this._persist=n,this)}position(n){let i=this._time,r=this._duration,s=this._wait,o=this._times,a=this._swing,u=this._reverse,l;if(n==null){let w=function(y){let b=a*Math.floor(y%(2*(s+r))/(s+r)),V=b&&!u||!b&&u,R=Math.pow(-1,V)*(y%(s+r))/r+V;return Math.max(Math.min(R,1),0)},M=o*(s+r)-s;return l=i<=0?Math.round(w(1e-5)):i<M?w(i):Math.round(w(M-1e-5)),l}let h=Math.floor(this.loops()),c=a&&h%2===0;return l=h+(c&&!u||u&&c?n:1-n),this.loops(l)}progress(n){return n==null?Math.min(1,this._time/this.duration()):this.time(n*this.duration())}queue(n,i,r,s){return this._queue.push({initialiser:n||di,runner:i||di,retarget:r,isTransform:s,initialised:!1,finished:!1}),this.timeline()&&this.timeline()._continue(),this}reset(){return this._reseted?this:(this.time(0),this._reseted=!0,this)}reverse(n){return this._reverse=n??!this._reverse,this}schedule(n,i,r){if(n instanceof Me||(r=i,i=n,n=this.timeline()),!n)throw Error("Runner cannot be scheduled without timeline");return n.schedule(this,i,r),this}step(n){if(!this.enabled)return this;n=n??16,this._time+=n;let i=this.position(),r=this._lastPosition!==i&&this._time>=0;this._lastPosition=i;let s=this.duration(),o=this._lastTime<=0&&this._time>0,a=this._lastTime<s&&this._time>=s;this._lastTime=this._time,o&&this.fire("start",this);let u=this._isDeclarative;this.done=!u&&!a&&this._time>=s,this._reseted=!1;let l=!1;return(r||u)&&(this._initialise(r),this.transforms=new p,l=this._run(u?n:i),this.fire("step",this)),this.done=this.done||l&&u,a&&this.fire("finished",this),this}time(n){if(n==null)return this._time;let i=n-this._time;return this.step(i),this}timeline(n){return typeof n>"u"?this._timeline:(this._timeline=n,this)}unschedule(){let n=this.timeline();return n&&n.unschedule(this),this}_initialise(n){if(!(!n&&!this._isDeclarative))for(let i=0,r=this._queue.length;i<r;++i){let s=this._queue[i],o=this._isDeclarative||!s.initialised&&n;n=!s.finished,o&&n&&(s.initialiser.call(this),s.initialised=!0)}}_rememberMorpher(n,i){if(this._history[n]={morpher:i,caller:this._queue[this._queue.length-1]},this._isDeclarative){let r=this.timeline();r&&r.play()}}_run(n){let i=!0;for(let r=0,s=this._queue.length;r<s;++r){let o=this._queue[r],a=o.runner.call(this,n);o.finished=o.finished||a===!0,i=i&&o.finished}return i}_tryRetarget(n,i,r){if(this._history[n]){if(!this._history[n].caller.initialised){let o=this._queue.indexOf(this._history[n].caller);return this._queue.splice(o,1),!1}this._history[n].caller.retarget?this._history[n].caller.retarget.call(this,i,r):this._history[n].morpher.to(i),this._history[n].caller.finished=!1;let s=this.timeline();return s&&s.play(),!0}return!1}}return e.id=0,e})(),Pt=class{constructor(t=new p,n=-1,i=!0){this.transforms=t,this.id=n,this.done=i}clearTransformsFromQueue(){}};f([rt,Pt],{mergeWith(e){return new Pt(e.transforms.lmultiply(this.transforms),e.id)}});var Pi=(e,t)=>e.lmultiplyO(t),ji=e=>e.transforms;function eo(){let t=this._transformationRunners.runners.map(ji).reduce(Pi,new p);this.transform(t),this._transformationRunners.merge(),this._transformationRunners.length()===1&&(this._frameId=null)}var cn=class{constructor(){this.runners=[],this.ids=[]}add(t){if(this.runners.includes(t))return;let n=t.id+1;return this.runners.push(t),this.ids.push(n),this}clearBefore(t){let n=this.ids.indexOf(t+1)||1;return this.ids.splice(0,n,0),this.runners.splice(0,n,new Pt).forEach(i=>i.clearTransformsFromQueue()),this}edit(t,n){let i=this.ids.indexOf(t+1);return this.ids.splice(i,1,t+1),this.runners.splice(i,1,n),this}getByID(t){return this.runners[this.ids.indexOf(t+1)]}length(){return this.ids.length}merge(){let t=null;for(let n=0;n<this.runners.length;++n){let i=this.runners[n];if(t&&i.done&&t.done&&(!i._timeline||!i._timeline._runnerIds.includes(i.id))&&(!t._timeline||!t._timeline._runnerIds.includes(t.id))){this.remove(i.id);let s=i.mergeWith(t);this.edit(t.id,s),t=s,--n}else t=i}return this}remove(t){let n=this.ids.indexOf(t+1);return this.ids.splice(n,1),this.runners.splice(n,1),this}};d({Element:{animate(e,t,n){let i=rt.sanitise(e,t,n),r=this.timeline();return new rt(i.duration).loop(i).element(this).timeline(r.play()).schedule(i.delay,i.when)},delay(e,t){return this.animate(0,e,t)},_clearTransformRunnersBefore(e){this._transformationRunners.clearBefore(e.id)},_currentTransform(e){return this._transformationRunners.runners.filter(t=>t.id<=e.id).map(ji).reduce(Pi,new p)},_addRunner(e){this._transformationRunners.add(e),C.cancelImmediate(this._frameId),this._frameId=C.immediate(eo.bind(this))},_prepareRunner(){this._frameId==null&&(this._transformationRunners=new cn().add(new Pt(new p(this))))}}});var no=(e,t)=>e.filter(n=>!t.includes(n));f(rt,{attr(e,t){return this.styleAttr("attr",e,t)},css(e,t){return this.styleAttr("css",e,t)},styleAttr(e,t,n){if(typeof t=="string")return this.styleAttr(e,{[t]:n});let i=t;if(this._tryRetarget(e,i))return this;let r=new K(this._stepper).to(i),s=Object.keys(i);return this.queue(function(){r=r.from(this.element()[e](s))},function(o){return this.element()[e](r.at(o).valueOf()),r.done()},function(o){let a=Object.keys(o),u=no(a,s);if(u.length){let h=this.element()[e](u),c=new _t(r.from()).valueOf();Object.assign(c,h),r.from(c)}let l=new _t(r.to()).valueOf();Object.assign(l,o),r.to(l),s=a,i=o}),this._rememberMorpher(e,r),this},zoom(e,t){if(this._tryRetarget("zoom",e,t))return this;let n=new K(this._stepper).to(new m(e));return this.queue(function(){n=n.from(this.element().zoom())},function(i){return this.element().zoom(n.at(i),t),n.done()},function(i,r){t=r,n.to(i)}),this._rememberMorpher("zoom",n),this},transform(e,t,n){if(t=e.relative||t,this._isDeclarative&&!t&&this._tryRetarget("transform",e))return this;let i=p.isMatrixLike(e);n=e.affine!=null?e.affine:n??!i;let r=new K(this._stepper).type(n?ki:p),s,o,a,u,l;function h(){o=o||this.element(),s=s||rn(e,o),l=new p(t?void 0:o),o._addRunner(this),t||o._clearTransformRunnersBefore(this)}function c(w){t||this.clearTransform();let{x:M,y}=new S(s).transform(o._currentTransform(this)),b=new p(q(T({},e),{origin:[M,y]})),V=this._isDeclarative&&a?a:l;if(n){b=b.decompose(M,y),V=V.decompose(M,y);let x=b.rotate,F=V.rotate,z=[x-360,x,x+360],ot=z.map(Ui=>Math.abs(Ui-F)),he=Math.min(...ot),ce=ot.indexOf(he);b.rotate=z[ce]}t&&(i||(b.rotate=e.rotate||0),this._isDeclarative&&u&&(V.rotate=u)),r.from(V),r.to(b);let R=r.at(w);return u=R.rotate,a=new p(R),this.addTransform(a),o._addRunner(this),r.done()}function v(w){(w.origin||"center").toString()!==(e.origin||"center").toString()&&(s=rn(w,o)),e=q(T({},w),{origin:s})}return this.queue(h,c,v,!0),this._isDeclarative&&this._rememberMorpher("transform",r),this},x(e,t){return this._queueNumber("x",e)},y(e){return this._queueNumber("y",e)},dx(e=0){return this._queueNumberDelta("x",e)},dy(e=0){return this._queueNumberDelta("y",e)},dmove(e,t){return this.dx(e).dy(t)},_queueNumberDelta(e,t){if(t=new m(t),this._tryRetarget(e,t))return this;let n=new K(this._stepper).to(t),i=null;return this.queue(function(){i=this.element()[e](),n.from(i),n.to(i+t)},function(r){return this.element()[e](n.at(r)),n.done()},function(r){n.to(i+new m(r))}),this._rememberMorpher(e,n),this},_queueObject(e,t){if(this._tryRetarget(e,t))return this;let n=new K(this._stepper).to(t);return this.queue(function(){n.from(this.element()[e]())},function(i){return this.element()[e](n.at(i)),n.done()}),this._rememberMorpher(e,n),this},_queueNumber(e,t){return this._queueObject(e,new m(t))},cx(e){return this._queueNumber("cx",e)},cy(e){return this._queueNumber("cy",e)},move(e,t){return this.x(e).y(t)},center(e,t){return this.cx(e).cy(t)},size(e,t){let n;return(!e||!t)&&(n=this._element.bbox()),e||(e=n.width/n.height*t),t||(t=n.height/n.width*e),this.width(e).height(t)},width(e){return this._queueNumber("width",e)},height(e){return this._queueNumber("height",e)},plot(e,t,n,i){if(arguments.length===4)return this.plot([e,t,n,i]);if(this._tryRetarget("plot",e))return this;let r=new K(this._stepper).type(this._element.MorphArray).to(e);return this.queue(function(){r.from(this._element.array())},function(s){return this._element.plot(r.at(s)),r.done()}),this._rememberMorpher("plot",r),this},leading(e){return this._queueNumber("leading",e)},viewbox(e,t,n,i){return this._queueObject("viewbox",new P(e,t,n,i))},update(e){return typeof e!="object"?this.update({offset:arguments[0],color:arguments[1],opacity:arguments[2]}):(e.opacity!=null&&this.attr("stop-opacity",e.opacity),e.color!=null&&this.attr("stop-color",e.color),e.offset!=null&&this.attr("offset",e.offset),this)}});f(rt,{rx:yn,ry:_n,from:Ii,to:Ni});g(rt,"Runner");var te=class extends j{constructor(t,n=t){super(A("svg",t),n),this.namespace()}defs(){return this.isRoot()?$(this.node.querySelector("defs"))||this.put(new Kt):this.root().defs()}isRoot(){return!this.node.parentNode||!(this.node.parentNode instanceof _.window.SVGElement)&&this.node.parentNode.nodeName!=="#document-fragment"}namespace(){return this.isRoot()?this.attr({xmlns:fn,version:"1.1"}).attr("xmlns:xlink",ue,xe).attr("xmlns:svgjs",Vr,xe):this.root().namespace()}removeNamespace(){return this.attr({xmlns:null,version:null}).attr("xmlns:xlink",null,xe).attr("xmlns:svgjs",null,xe)}root(){return this.isRoot()?this:super.root()}};d({Container:{nested:D(function(){return this.put(new te)})}});g(te,"Svg",!0);var ee=class extends j{constructor(t,n=t){super(A("symbol",t),n)}};d({Container:{symbol:D(function(){return this.put(new ee)})}});g(ee,"Symbol");function io(e){return this._build===!1&&this.clear(),this.node.appendChild(_.document.createTextNode(e)),this}function ro(){return this.node.getComputedTextLength()}function so(e,t=this.bbox()){return e==null?t.x:this.attr("x",this.attr("x")+e-t.x)}function oo(e,t=this.bbox()){return e==null?t.y:this.attr("y",this.attr("y")+e-t.y)}function ao(e,t,n=this.bbox()){return this.x(e,n).y(t,n)}function uo(e,t=this.bbox()){return e==null?t.cx:this.attr("x",this.attr("x")+e-t.cx)}function lo(e,t=this.bbox()){return e==null?t.cy:this.attr("y",this.attr("y")+e-t.cy)}function ho(e,t,n=this.bbox()){return this.cx(e,n).cy(t,n)}function co(e){return this.attr("x",e)}function fo(e){return this.attr("y",e)}function po(e,t){return this.ax(e).ay(t)}function mo(e){return this._build=!!e,this}var Gi={__proto__:null,plain:io,length:ro,x:so,y:oo,move:ao,cx:uo,cy:lo,center:ho,ax:co,ay:fo,amove:po,build:mo},L=class extends k{constructor(t,n=t){super(A("text",t),n),this.dom.leading=new m(1.3),this._rebuild=!0,this._build=!1}leading(t){return t==null?this.dom.leading:(this.dom.leading=new m(t),this.rebuild())}rebuild(t){if(typeof t=="boolean"&&(this._rebuild=t),this._rebuild){let n=this,i=0,r=this.dom.leading;this.each(function(s){let o=_.window.getComputedStyle(this.node).getPropertyValue("font-size"),a=r*new m(o);this.dom.newLined&&(this.attr("x",n.attr("x")),this.text()===`
`?i+=a:(this.attr("dy",s?a+i:0),i=0))}),this.fire("rebuild")}return this}setData(t){return this.dom=t,this.dom.leading=new m(t.leading||1.3),this}text(t){if(t===void 0){let n=this.node.childNodes,i=0;t="";for(let r=0,s=n.length;r<s;++r){if(n[r].nodeName==="textPath"){r===0&&(i=1);continue}r!==i&&n[r].nodeType!==3&&$(n[r]).dom.newLined===!0&&(t+=`
`),t+=n[r].textContent}return t}if(this.clear().build(!0),typeof t=="function")t.call(this,this);else{t=(t+"").split(`
`);for(let n=0,i=t.length;n<i;n++)this.newLine(t[n])}return this.build(!1).rebuild()}};f(L,Gi);d({Container:{text:D(function(e=""){return this.put(new L).text(e)}),plain:D(function(e=""){return this.put(new L).plain(e)})}});g(L,"Text");var jt=class extends k{constructor(t,n=t){super(A("tspan",t),n),this._build=!1}dx(t){return this.attr("dx",t)}dy(t){return this.attr("dy",t)}newLine(){this.dom.newLined=!0;let t=this.parent();if(!(t instanceof L))return this;let n=t.index(this),i=_.window.getComputedStyle(this.node).getPropertyValue("font-size"),r=t.dom.leading*new m(i);return this.dy(n?r:0).attr("x",t.x())}text(t){return t==null?this.node.textContent+(this.dom.newLined?`
`:""):(typeof t=="function"?(this.clear().build(!0),t.call(this,this),this.build(!1)):this.plain(t),this)}};f(jt,Gi);d({Tspan:{tspan:D(function(e=""){let t=new jt;return this._build||this.clear(),this.put(t).text(e)})},Text:{newLine:function(e=""){return this.tspan(e).newLine()}}});g(jt,"Tspan");var ne=class extends k{constructor(t,n=t){super(A("circle",t),n)}radius(t){return this.attr("r",t)}rx(t){return this.attr("r",t)}ry(t){return this.rx(t)}size(t){return this.radius(new m(t).divide(2))}};f(ne,{x:Mi,y:Di,cx:Ai,cy:Ei,width:Si,height:Fi});d({Container:{circle:D(function(e=0){return this.put(new ne).size(e).move(0,0)})}});g(ne,"Circle");var ie=class extends j{constructor(t,n=t){super(A("clipPath",t),n)}remove(){return this.targets().forEach(function(t){t.unclip()}),super.remove()}targets(){return Bt("svg [clip-path*="+this.id()+"]")}};d({Container:{clip:D(function(){return this.defs().put(new ie)})},Element:{clipper(){return this.reference("clip-path")},clipWith(e){let t=e instanceof ie?e:this.parent().clip().add(e);return this.attr("clip-path","url(#"+t.id()+")")},unclip(){return this.attr("clip-path",null)}}});g(ie,"ClipPath");var De=class extends W{constructor(t,n=t){super(A("foreignObject",t),n)}};d({Container:{foreignObject:D(function(e,t){return this.put(new De).size(e,t)})}});g(De,"ForeignObject");function go(e,t){return this.children().forEach((n,i)=>{let r;try{r=n.bbox()}catch{return}let s=new p(n),o=s.translate(e,t).transform(s.inverse()),a=new S(r.x,r.y).transform(o);n.move(a.x,a.y)}),this}function yo(e){return this.dmove(e,0)}function _o(e){return this.dmove(0,e)}function vo(e,t=this.bbox()){return e==null?t.height:this.size(t.width,e,t)}function wo(e=0,t=0,n=this.bbox()){let i=e-n.x,r=t-n.y;return this.dmove(i,r)}function bo(e,t,n=this.bbox()){let i=Rt(this,e,t,n),r=i.width/n.width,s=i.height/n.height;return this.children().forEach((o,a)=>{let u=new S(n).transform(new p(o).inverse());o.scale(r,s,u.x,u.y)}),this}function Co(e,t=this.bbox()){return e==null?t.width:this.size(e,t.height,t)}function xo(e,t=this.bbox()){return e==null?t.x:this.move(e,t.y,t)}function Vo(e,t=this.bbox()){return e==null?t.y:this.move(t.x,e,t)}var Ri={__proto__:null,dmove:go,dx:yo,dy:_o,height:vo,move:wo,size:bo,width:Co,x:xo,y:Vo},re=class extends j{constructor(t,n=t){super(A("g",t),n)}};f(re,Ri);d({Container:{group:D(function(){return this.put(new re)})}});g(re,"G");var Gt=class extends j{constructor(t,n=t){super(A("a",t),n)}target(t){return this.attr("target",t)}to(t){return this.attr("href",t,ue)}};f(Gt,Ri);d({Container:{link:D(function(e){return this.put(new Gt).to(e)})},Element:{unlink(){let e=this.linker();if(!e)return this;let t=e.parent();if(!t)return this.remove();let n=t.index(e);return t.add(this,n),e.remove(),this},linkTo(e){let t=this.linker();return t||(t=new Gt,this.wrap(t)),typeof e=="function"?e.call(t,t):t.to(e),this},linker(){let e=this.parent();return e&&e.node.nodeName.toLowerCase()==="a"?e:null}}});g(Gt,"A");var se=class extends j{constructor(t,n=t){super(A("mask",t),n)}remove(){return this.targets().forEach(function(t){t.unmask()}),super.remove()}targets(){return Bt("svg [mask*="+this.id()+"]")}};d({Container:{mask:D(function(){return this.defs().put(new se)})},Element:{masker(){return this.reference("mask")},maskWith(e){let t=e instanceof se?e:this.parent().mask().add(e);return this.attr("mask","url(#"+t.id()+")")},unmask(){return this.attr("mask",null)}}});g(se,"Mask");var Ae=class extends W{constructor(t,n=t){super(A("stop",t),n)}update(t){return(typeof t=="number"||t instanceof m)&&(t={offset:arguments[0],color:arguments[1],opacity:arguments[2]}),t.opacity!=null&&this.attr("stop-opacity",t.opacity),t.color!=null&&this.attr("stop-color",t.color),t.offset!=null&&this.attr("offset",new m(t.offset)),this}};d({Gradient:{stop:function(e,t,n){return this.put(new Ae).update(e,t,n)}}});g(Ae,"Stop");function Mo(e,t){if(!e)return"";if(!t)return e;let n=e+"{";for(let i in t)n+=Cr(i)+":"+t[i]+";";return n+="}",n}var oe=class extends W{constructor(t,n=t){super(A("style",t),n)}addText(t=""){return this.node.textContent+=t,this}font(t,n,i={}){return this.rule("@font-face",T({fontFamily:t,src:n},i))}rule(t,n){return this.addText(Mo(t,n))}};d("Dom",{style(e,t){return this.put(new oe).rule(e,t)},fontface(e,t,n){return this.put(new oe).font(e,t,n)}});g(oe,"Style");var ae=class extends L{constructor(t,n=t){super(A("textPath",t),n)}array(){let t=this.track();return t?t.array():null}plot(t){let n=this.track(),i=null;return n&&(i=n.plot(t)),t==null?i:this}track(){return this.reference("href")}};d({Container:{textPath:D(function(e,t){return e instanceof L||(e=this.text(e)),e.path(t)})},Text:{path:D(function(e,t=!0){let n=new ae;e instanceof it||(e=this.defs().path(e)),n.attr("href","#"+e,ue);let i;if(t)for(;i=this.node.firstChild;)n.node.appendChild(i);return this.put(n)}),textPath(){return this.findOne("textPath")}},Path:{text:D(function(e){return e instanceof L||(e=new L().addTo(this.parent()).text(e)),e.path(this)}),targets(){return Bt("svg textPath").filter(e=>(e.attr("href")||"").includes(this.id()))}}});ae.prototype.MorphArray=Z;g(ae,"TextPath");var Ee=class extends k{constructor(t,n=t){super(A("use",t),n)}use(t,n){return this.attr("href",(n||"")+"#"+t,ue)}};d({Container:{use:D(function(e,t){return this.put(new Ee).use(e,t)})}});g(Ee,"Use");var Bi=O;f([te,ee,Nt,gt,Ot],G("viewbox"));f([yt,wt,vt,it],G("marker"));f(L,G("Text"));f(it,G("Path"));f(Kt,G("Defs"));f([L,jt],G("Tspan"));f([Tt,It,mt,rt],G("radius"));f(pt,G("EventTarget"));f(nt,G("Dom"));f(W,G("Element"));f(k,G("Shape"));f([j,Ve],G("Container"));f(mt,G("Gradient"));f(rt,G("Runner"));Q.extend(wr());Ws([m,H,P,p,et,X,Z,S]);qs();var E=class{constructor(){this.name="",this.type="plain",this.children=[]}write(){switch(this.type){case"plain":return this.name+" "+this.writeChildren();case"string":return`"${this.name}" ${this.writeChildren()}`;case"complex":return`(${this.name} ${this.writeChildren()})`}}writeChildren(){return this.children.map(t=>t.write()).join(" ")}};var Se=class extends E{write(){return`
(
	kicad_symbol_lib
	(version 20231120)
	(generator "kicad_symbol_editor")
	(generator_version "8.0")
	${this.writeChildren()}
)`}};var Lt=class extends E{constructor(t,n,i){super(),this.x=0,this.y=0,this.z=null,this.x=t,this.y=n,i!==void 0&&(this.z=i)}write(){return`(at ${this.x} ${this.y} ${this.z!==null?this.z:""})`}};var Fe=class extends E{write(){return`(uuid "${crypto.randomUUID()}")`}};var bt=class extends E{constructor(t,n){super(),this.name="font",this.italic=!1,this.sizeX=t,this.sizeY=n}write(){let t=[];return t.push(this.name),t.push(`(size ${this.sizeX} ${this.sizeY})`),this.thickness&&t.push(`(thickness ${this.thickness})`),this.italic&&t.push("(italic yes)"),`(${t.join(" ")})`}};var Ie=class extends E{constructor(){super(...arguments),this.name="effects",this.hidden=!1,this.justify="middle"}write(){let t=[];return t.push(this.name),t.push(this.writeChildren()),this.hidden&&t.push("(hide yes)"),this.justify!=="middle"&&t.push(`(justify ${this.justify})`),`(${t.join(" ")})`}setFont(t,n,i){let r=this.children.find(s=>s instanceof bt);r||(r=new bt(1,1),this.children.push(r)),r.sizeX=t,r.sizeY=n,i!==void 0&&(r.thickness=i)}};var st=class extends E{constructor(t,n,i,r,s){super(),this.name="property",this.propertyName="",this.propertyValue="",this.layer="F.SilkS",this.uuid=new Fe,this.unlocked=!0,this.hidden=!1,this.effects=new Ie,this.propertyName=t,this.propertyValue=n,this.origin=new Lt(i,r,s??0)}write(){let t=[];return t.push(`property "${this.propertyName}" "${this.propertyValue}"`),t.push(this.origin.write()),this.layer&&t.push(`(layer "${this.layer}")`),this.unlocked&&t.push("(unlocked yes)"),this.hidden&&t.push("(hide yes)"),this.uuid&&t.push(this.uuid.write()),t.push(this.effects.write()),`(${t.join(" ")})`}};var Ne=class extends E{constructor(t){super(),this.properties=[],this.symbolName=t}addBaselineProperties(){let t=new st("Reference","U",-6.35,6.35,0);t.layer="",t.uuid=void 0,t.unlocked=!1,t.effects.setFont(1.27,1.27),t.effects.justify="left",this.properties.push(t);let n=new st("Value","SymbolValue",2.54,6.35,0);n.layer="",n.uuid=void 0,n.unlocked=!1,n.effects.setFont(1.27,1.27),n.effects.justify="right",this.properties.push(n);let i=new st("Footprint","",0,-8.89,0);i.layer="",i.uuid=void 0,i.unlocked=!1;let r=new bt(1.27,1.27);r.italic=!0,i.effects.children.push(r),i.effects.hidden=!0,this.properties.push(i);let s=new st("Datasheet","",0,-1.27,0);s.layer="",s.uuid=void 0,s.unlocked=!1,s.effects.setFont(1.27,1.27),s.effects.hidden=!0,this.properties.push(s);let o=new st("Description","",0,0,0);o.layer="",o.uuid=void 0,o.unlocked=!1,o.effects.setFont(1.27,1.27),o.effects.hidden=!0,this.properties.push(s)}writeProperties(){return this.properties.map(t=>t.write()).join(`
`)}write(){return`
	(
		symbol "${this.symbolName}"
		(exclude_from_sim no)
		(in_bom yes)
		(on_board yes)
		${this.writeProperties()}
		${this.writeChildren()}
	)
		`}};var Oe=class extends E{constructor(t){super(),this.parent=t,this.name="symbol"}write(){return`
(symbol "${this.parent.symbolName}_0_1"
	${this.writeChildren()}
)
		`}};var ke=class extends E{constructor(t){super(),this.parent=t,this.name="symbol"}write(){return`
(symbol "${this.parent.symbolName}_1_1"
	${this.writeChildren()}
)
		`}};var Te=class extends E{constructor(t,n,i,r){super(),this.startX=t,this.startY=n,this.endX=i,this.endY=r,this.strokeWidth=.254}write(){return`
(rectangle
    (start ${this.startX} ${this.startY})
    (end ${this.endX} ${this.endY})
    (stroke
        (width ${this.strokeWidth})
        (type default)
    )
    (fill
        (type background)
    )
)
		`}};var le=class extends E{constructor(t,n,i,r,s){super(),this.pinType="bidirectional",this.pinLength="2.54",this.origin=new Lt(i,r,s),this.pinName=t,this.pinNumber=n}write(){return`
(pin ${this.pinType} line
    ${this.origin.write()}
    (length ${this.pinLength})
    (name "${this.pinName}"
        (effects
            (font
                (size 1.27 1.27)
            )
        )
    )
    (number "${this.pinNumber}"
        (effects
            (font
                (size 1.27 1.27)
            )
        )
    )
)
		`}};var Do=["svgContainer"];function Ao(e,t){if(e&1){let n=In();I(0,"tr")(1,"td"),U(2),N(),I(3,"td")(4,"input",25),ct("ngModelChange",function(r){let o=Pe(n).$implicit;return ht(o.number,r)||(o.number=r),je(r)}),N()(),I(5,"td")(6,"input",25),ct("ngModelChange",function(r){let o=Pe(n).$implicit;return ht(o.name,r)||(o.name=r),je(r)}),N()()()}if(e&2){let n=t.$implicit;Y(2),ze(n.n),Y(2),lt("ngModel",n.number),Y(2),lt("ngModel",n.name)}}var Li=(()=>{let t=class t{constructor(){this.totalPins=4,this.symbolName="DEV",this.symbolWidth=6,this.symbolDatasheet="",this.pins=[],this.output=""}ngOnInit(){return bn(this,null,function*(){this.updateTable()})}toSVGCoord(i){return i*10+250}generate(){this.svgContainer.nativeElement.innerHTML="";let i=Math.ceil(this.totalPins/2),r=this.symbolWidth*2.54/2,s=(i+1)*2.54/2,o=-r,a=-s,u=new Se,l=new Ne(this.symbolName);u.children.push(l),l.addBaselineProperties();let h=l.properties.find(x=>x.propertyName==="Value");h.propertyValue=this.symbolName,h.origin.y=s+2.54,h.origin.x=r;let c=l.properties.find(x=>x.propertyName==="Reference");c.origin.y=s+2.54,c.origin.x=o;let v=new Oe(l),w=new ke(l);l.children.push(v,w);let M=new Te(o,a,r,s);v.children.push(M);let y=Bi().addTo(this.svgContainer.nativeElement).size(500,500),b=this.toSVGCoord(r)-this.toSVGCoord(o),V=this.toSVGCoord(s)-this.toSVGCoord(a),R=y.rect(b,V).x(250-b/2).y(250-V/2).attr({fill:"#545862",stroke:"#E06C75","stroke-width":.254*10});y.text(this.symbolName).x(250-b/2+b).y(250-V/2-2.54*10).attr({fill:"#56B6C2","text-anchor":"end","font-family":"monospace"}),y.text("U").x(250-b/2).y(250-V/2-2.54*10).attr({fill:"#56B6C2","text-anchor":"start","font-family":"monospace"});for(let x of this.pins)if(x.n<=i){let F=a+2.54+(x.n-1)*2.54,z=new le(x.name,x.number,o-2.54,F*-1,0);w.children.push(z),y.line(this.toSVGCoord(o-2.54),this.toSVGCoord(F),this.toSVGCoord(o),this.toSVGCoord(F)).attr({stroke:"#E06C75","stroke-width":.254*10}),y.text(x.number).x(this.toSVGCoord(o-2.54/2)).y(this.toSVGCoord(F-2)).attr({fill:"#E06C75","text-anchor":"middle","font-family":"monospace"}),y.text(x.name).x(this.toSVGCoord(o+2.54/4)).y(this.toSVGCoord(F-1)).attr({fill:"#98C379","text-anchor":"start","font-family":"monospace"})}else{let F=s-2.54-(x.n-1-i)*2.54,z=new le(x.name,x.number,r+2.54,F*-1,180);w.children.push(z),y.line(this.toSVGCoord(r),this.toSVGCoord(F),this.toSVGCoord(r+2.54),this.toSVGCoord(F)).attr({stroke:"#E06C75","stroke-width":.254*10}),y.text(x.number).x(this.toSVGCoord(r+2.54/2)).y(this.toSVGCoord(F-2)).attr({fill:"#E06C75","text-anchor":"middle","font-family":"monospace"}),y.text(x.name).x(this.toSVGCoord(r-2.54/4)).y(this.toSVGCoord(F-1)).attr({fill:"#98C379","text-anchor":"end","font-family":"monospace"})}this.output=l.write()}updateTable(){if(this.totalPins!==this.pins.length)if(this.totalPins<this.pins.length)this.pins=this.pins.slice(0,this.totalPins);else{let i=this.totalPins-this.pins.length,r=this.pins.length===0?void 0:this.pins[this.pins.length-1],s=r?r.n+1:1;for(let o=s;o<s+i;o++)this.pins.push({n:o,name:"PIN_"+o,number:o.toString()})}}};t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=Mn({type:t,selectors:[["ng-component"]],viewQuery:function(r,s){if(r&1&&Nn(Do,5),r&2){let o;On(o=kn())&&(s.svgContainer=o.first)}},decls:58,vars:6,consts:[[1,"app-content"],[1,"container-fluid"],[1,"row"],[1,"col-12","grid-margin"],[1,"card"],[1,"card-header"],[1,"card-tools"],["type","button","tooltip","Generate",1,"btn","btn-tool","btn-success",3,"click"],[1,"mdi","mdi-export"],[1,"card-body"],[1,"col-12"],[1,"col-6"],[1,"form-group"],["for","symbol-name"],["type","text","id","symbol-name",1,"form-control",3,"ngModel","ngModelChange"],["for","total-pins"],["type","number","id","total-pins",1,"form-control",3,"ngModel","ngModelChange"],["for","symbol-width"],["type","number","id","symbol-width",1,"form-control",3,"ngModel","ngModelChange"],["for","symbol-datasheet"],["type","text","id","symbol-datasheet",1,"form-control",3,"ngModel","ngModelChange"],[1,"table","table-sm"],[4,"ngFor","ngForOf"],[1,"svg-container"],["svgContainer",""],["type","text",1,"form-control","form-control-sm",3,"ngModel","ngModelChange"]],template:function(r,s){r&1&&(I(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"button",7),Mt("click",function(){return s.generate()}),Le(8,"i",8),U(9," Generate "),N()()(),I(10,"div",9)(11,"div",2)(12,"div",10)(13,"h4"),U(14,"Parameters"),N()(),I(15,"div",11)(16,"div",2)(17,"div",11)(18,"div",12)(19,"label",13),U(20,"Symbol name"),N(),I(21,"input",14),ct("ngModelChange",function(a){return ht(s.symbolName,a)||(s.symbolName=a),a}),N()()(),I(22,"div",11)(23,"div",12)(24,"label",15),U(25,"Pin Count"),N(),I(26,"input",16),ct("ngModelChange",function(a){return ht(s.totalPins,a)||(s.totalPins=a),a}),Mt("ngModelChange",function(){return s.updateTable()}),N()()()(),I(27,"div",2)(28,"div",11)(29,"div",12)(30,"label",17),U(31,"Symbol width"),N(),I(32,"input",18),ct("ngModelChange",function(a){return ht(s.symbolWidth,a)||(s.symbolWidth=a),a}),N()()(),I(33,"div",11)(34,"div",12)(35,"label",19),U(36,"Datasheet"),N(),I(37,"input",20),ct("ngModelChange",function(a){return ht(s.symbolDatasheet,a)||(s.symbolDatasheet=a),a}),N()()()(),I(38,"div",2)(39,"div",10)(40,"table",21)(41,"thead")(42,"tr")(43,"th"),U(44,"N"),N(),I(45,"th"),U(46,"Number"),N(),I(47,"th"),U(48,"Name"),N()()(),I(49,"tbody"),En(50,Ao,7,3,"tr",22),N()()()()(),I(51,"div",11),Le(52,"div",23,24),N()(),I(54,"div",2)(55,"div",10)(56,"pre"),U(57),N()()()()()()()()()),r&2&&(Y(21),lt("ngModel",s.symbolName),Y(5),lt("ngModel",s.totalPins),Y(6),lt("ngModel",s.symbolWidth),Y(5),lt("ngModel",s.symbolDatasheet),Y(13),Sn("ngForOf",s.pins),Y(7),ze(s.output))},dependencies:[jn,ve,Qe,ii,Ke],encapsulation:2});let e=t;return e})();var Eo=[{path:"generate",component:Li}],zi=Rn.forChild(Eo);var Xa=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=Ct({type:t}),t.\u0275inj=xt({imports:[Gn,zi,ai,oi]});let e=t;return e})();export{Xa as SymbolGeneratorModule};
